# imagestring




<div class="phpcode"><span class="html">
Some fun with imagestring:<br><br>This function is a product of too much time..<br>It opens an image and create a new image with one letter instead of a pixel.<br><br><span class="default">&lt;?php<br>error_reporting</span><span class="keyword">(</span><span class="default">E_ALL</span><span class="keyword">);<br></span><span class="comment">/**<br> * generates a image with chars instead of pixels<br> *<br> * @param string $url Filepath or url<br> * @param string $chars The chars which should replace the pixels<br> * @param int $shrpns Sharpness (2 = every second pixel, 1 = every pixel ... )<br> * @param int $size <br> * @param int $weight font-weight/size<br> * @return sesource<br> * @author Nicolas &apos;KeksNicoh&apos; Heimann &lt;www.salamipla.net&gt;<br> * @date 02nov08<br> */<br></span><span class="keyword">function </span><span class="default">pixelfuck</span><span class="keyword">(</span><span class="default">$url</span><span class="keyword">, </span><span class="default">$chars</span><span class="keyword">=</span><span class="string">&apos;ewk34543&#xA7;G&#xA7;$&#xA7;$Tg34g4g&apos;</span><span class="keyword">, </span><span class="default">$shrpns</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">, </span><span class="default">$size</span><span class="keyword">=</span><span class="default">4</span><span class="keyword">,</span><span class="default">$weight</span><span class="keyword">=</span><span class="default">2</span><span class="keyword">)<br>{<br>&#xA0; &#xA0; list(</span><span class="default">$w</span><span class="keyword">, </span><span class="default">$h</span><span class="keyword">, </span><span class="default">$type</span><span class="keyword">) = </span><span class="default">getimagesize</span><span class="keyword">(</span><span class="default">$url</span><span class="keyword">);<br>&#xA0; &#xA0; </span><span class="default">$resource </span><span class="keyword">= </span><span class="default">imagecreatefromstring</span><span class="keyword">(</span><span class="default">file_get_contents</span><span class="keyword">(</span><span class="default">$url</span><span class="keyword">));<br>&#xA0; &#xA0; </span><span class="default">$img </span><span class="keyword">= </span><span class="default">imagecreatetruecolor</span><span class="keyword">(</span><span class="default">$w</span><span class="keyword">*</span><span class="default">$size</span><span class="keyword">,</span><span class="default">$h</span><span class="keyword">*</span><span class="default">$size</span><span class="keyword">);<br><br>&#xA0; &#xA0; </span><span class="default">$cc </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$chars</span><span class="keyword">);<br>&#xA0; &#xA0; for(</span><span class="default">$y</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$y </span><span class="keyword">&lt;</span><span class="default">$h</span><span class="keyword">;</span><span class="default">$y</span><span class="keyword">+=</span><span class="default">$shrpns</span><span class="keyword">) <br>&#xA0; &#xA0; &#xA0; &#xA0; for(</span><span class="default">$x</span><span class="keyword">=</span><span class="default">0</span><span class="keyword">;</span><span class="default">$x </span><span class="keyword">&lt;</span><span class="default">$w</span><span class="keyword">;</span><span class="default">$x</span><span class="keyword">+=</span><span class="default">$shrpns</span><span class="keyword">)<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">imagestring</span><span class="keyword">(</span><span class="default">$img</span><span class="keyword">,</span><span class="default">$weight</span><span class="keyword">,</span><span class="default">$x</span><span class="keyword">*</span><span class="default">$size</span><span class="keyword">,</span><span class="default">$y</span><span class="keyword">*</span><span class="default">$size</span><span class="keyword">, </span><span class="default">$chars</span><span class="keyword">{@++</span><span class="default">$p</span><span class="keyword">%</span><span class="default">$cc</span><span class="keyword">}, </span><span class="default">imagecolorat</span><span class="keyword">(</span><span class="default">$resource</span><span class="keyword">, </span><span class="default">$x</span><span class="keyword">, </span><span class="default">$y</span><span class="keyword">));<br>&#xA0; &#xA0; return </span><span class="default">$img</span><span class="keyword">;<br>}<br><br></span><span class="default">$url </span><span class="keyword">= </span><span class="string">&apos;<a href="http://upload.wikimedia.org/wikipedia/commons/b/be/Manga_Icon.png" rel="nofollow" target="_blank">http://upload.wikimedia.org/wikipedia/commons/b/be/Manga_Icon.png</a>&apos;</span><span class="keyword">;<br></span><span class="default">$text </span><span class="keyword">= </span><span class="string">&apos;I-dont-like-manga-...-Why-do-they-have-such-big-eyes? Strange-...-WHAT-WANT-YOU-DO?&apos;</span><span class="keyword">;<br><br></span><span class="default">Header</span><span class="keyword">(</span><span class="string">&apos;Content-Type: image/png&apos;</span><span class="keyword">);<br></span><span class="default">imagepng</span><span class="keyword">(</span><span class="default">pixelfuck</span><span class="keyword">(</span><span class="default">$url</span><span class="keyword">, </span><span class="default">$text</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">6</span><span class="keyword">));<br></span><span class="default">?&gt;<br></span><br>Have fun&#xA0; :)</span>
</div>
  

#

[Official documentation page](https://www.php.net/manual/en/function.imagestring.php)

**[â¬† to root](/)**