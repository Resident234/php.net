# chunk_split




<div class="phpcode"><span class="html">
An alternative for unicode strings;<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">chunk_split_unicode</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$l </span><span class="keyword">= </span><span class="default">76</span><span class="keyword">, </span><span class="default">$e </span><span class="keyword">= </span><span class="string">&quot;\r\n&quot;</span><span class="keyword">) {<br>&#xA0; &#xA0; </span><span class="default">$tmp </span><span class="keyword">= </span><span class="default">array_chunk</span><span class="keyword">(<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">preg_split</span><span class="keyword">(</span><span class="string">&quot;//u&quot;</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">, -</span><span class="default">1</span><span class="keyword">, </span><span class="default">PREG_SPLIT_NO_EMPTY</span><span class="keyword">), </span><span class="default">$l</span><span class="keyword">);<br>&#xA0; &#xA0; </span><span class="default">$str </span><span class="keyword">= </span><span class="string">&quot;&quot;</span><span class="keyword">;<br>&#xA0; &#xA0; foreach (</span><span class="default">$tmp </span><span class="keyword">as </span><span class="default">$t</span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$str </span><span class="keyword">.= </span><span class="default">join</span><span class="keyword">(</span><span class="string">&quot;&quot;</span><span class="keyword">, </span><span class="default">$t</span><span class="keyword">) . </span><span class="default">$e</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; return </span><span class="default">$str</span><span class="keyword">;<br>}<br><br></span><span class="default">$str </span><span class="keyword">= </span><span class="string">&quot;Yar&#x131;m kilo &#xE7;ay, yar&#x131;m kilo &#x15F;eker&quot;</span><span class="keyword">;<br>echo </span><span class="default">chunk_split</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">) .</span><span class="string">&quot;\n&quot;</span><span class="keyword">;<br>echo </span><span class="default">chunk_split_unicode</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">4</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>Yar&#xFFFD;<br>&#xFFFD;m k<br>ilo <br>&#xE7;ay<br>, ya<br>r&#x131;m<br> kil<br>o &#x15F;<br>eker<br><br>Yar&#x131;<br>m ki<br>lo &#xE7;<br>ay, <br>yar&#x131;<br>m ki<br>lo &#x15F;<br>eker</span>
</div>
  

#


<div class="phpcode"><span class="html">
As an alternative for&#xA0; qeremy [atta] gmail [dotta] com<br>There is much shorter way for binarysafe chunking of multibyte string:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">word_chunk</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$len </span><span class="keyword">= </span><span class="default">76</span><span class="keyword">, </span><span class="default">$end </span><span class="keyword">= </span><span class="string">&quot;\n&quot;</span><span class="keyword">) {<br>&#xA0; &#xA0; </span><span class="default">$pattern </span><span class="keyword">= </span><span class="string">&apos;~.{1,&apos; </span><span class="keyword">. </span><span class="default">$len </span><span class="keyword">. </span><span class="string">&apos;}~u&apos;</span><span class="keyword">; </span><span class="comment">// like &quot;~.{1,76}~u&quot;<br>&#xA0; &#xA0; </span><span class="default">$str </span><span class="keyword">= </span><span class="default">preg_replace</span><span class="keyword">(</span><span class="default">$pattern</span><span class="keyword">, </span><span class="string">&apos;$0&apos; </span><span class="keyword">. </span><span class="default">$end</span><span class="keyword">, </span><span class="default">$str</span><span class="keyword">);<br>&#xA0; &#xA0; return </span><span class="default">rtrim</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$end</span><span class="keyword">);<br>}<br><br></span><span class="default">$str </span><span class="keyword">= </span><span class="string">&apos;&#x440;&#x443;&#x441;&#x441;&#x43A;&#x438;&#x439;&apos;</span><span class="keyword">;<br>echo </span><span class="default">chunk_split</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">) .</span><span class="string">&quot;\n&quot;</span><span class="keyword">;<br>echo </span><span class="default">word_chunk</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">3</span><span class="keyword">) . </span><span class="string">&quot;\n&quot;</span><span class="keyword">;<br></span><span class="default">?&gt;<br></span><br>&#x440;&#xFFFD;<br>&#xFFFD;&#x441;<br>&#x441;&#xFFFD;<br>&#xFFFD;&#x438;<br>&#x439;<br><br>&#x440;&#x443;&#x441;<br>&#x441;&#x43A;&#x438;<br>&#x439;</span>
</div>
  

#

[Official documentation page](https://www.php.net/manual/en/function.chunk-split.php)

**[â¬† to root](/)**