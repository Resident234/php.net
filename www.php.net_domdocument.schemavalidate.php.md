# DOMDocument::schemaValidate




<div class="phpcode"><span class="html">
For more detailed feedback from DOMDocument::schemaValidate, disable libxml errors and fetch error information yourself.&#xA0; See <a href="http://php.net/manual/en/ref.libxml.php" rel="nofollow" target="_blank">http://php.net/manual/en/ref.libxml.php</a> for more info.<br><br>example.xml<br>&lt;?xml version=&quot;1.0&quot;?&gt;<br>&lt;example&gt;<br>&#xA0; &#xA0; &lt;child_string&gt;This is an example.&lt;/child_string&gt;<br>&#xA0; &#xA0; &lt;child_integer&gt;Error condition.&lt;/child_integer&gt;<br>&lt;/example&gt;<br><br>example.xsd<br>&lt;?xml version=&quot;1.0&quot;?&gt;<br>&lt;xs:schema xmlns:xs=&quot;<a href="http://www.w3.org/2001/XMLSchema" rel="nofollow" target="_blank">http://www.w3.org/2001/XMLSchema</a>&quot;<br>elementFormDefault=&quot;qualified&quot;&gt;<br>&#xA0; &#xA0; &lt;xs:element name=&quot;example&quot;&gt;<br>&#xA0; &#xA0; &#xA0; &#xA0; &lt;xs:complexType&gt;<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &lt;xs:sequence&gt;<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &lt;xs:element name=&quot;child_string&quot; type=&quot;xs:string&quot;/&gt;<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &lt;xs:element name=&quot;child_integer&quot; type=&quot;xs:integer&quot;/&gt;<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &lt;/xs:sequence&gt;<br>&#xA0; &#xA0; &#xA0; &#xA0; &lt;/xs:complexType&gt;<br>&#xA0; &#xA0; &lt;/xs:element&gt;<br>&lt;/xs:schema&gt;<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">libxml_display_error</span><span class="keyword">(</span><span class="default">$error</span><span class="keyword">)<br>{<br>&#xA0; &#xA0; </span><span class="default">$return </span><span class="keyword">= </span><span class="string">&quot;&lt;br/&gt;\n&quot;</span><span class="keyword">;<br>&#xA0; &#xA0; switch (</span><span class="default">$error</span><span class="keyword">-&gt;</span><span class="default">level</span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; case </span><span class="default">LIBXML_ERR_WARNING</span><span class="keyword">:<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$return </span><span class="keyword">.= </span><span class="string">&quot;&lt;b&gt;Warning </span><span class="default">$error</span><span class="keyword">-&gt;</span><span class="default">code</span><span class="string">&lt;/b&gt;: &quot;</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; break;<br>&#xA0; &#xA0; &#xA0; &#xA0; case </span><span class="default">LIBXML_ERR_ERROR</span><span class="keyword">:<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$return </span><span class="keyword">.= </span><span class="string">&quot;&lt;b&gt;Error </span><span class="default">$error</span><span class="keyword">-&gt;</span><span class="default">code</span><span class="string">&lt;/b&gt;: &quot;</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; break;<br>&#xA0; &#xA0; &#xA0; &#xA0; case </span><span class="default">LIBXML_ERR_FATAL</span><span class="keyword">:<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$return </span><span class="keyword">.= </span><span class="string">&quot;&lt;b&gt;Fatal Error </span><span class="default">$error</span><span class="keyword">-&gt;</span><span class="default">code</span><span class="string">&lt;/b&gt;: &quot;</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; break;<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; </span><span class="default">$return </span><span class="keyword">.= </span><span class="default">trim</span><span class="keyword">(</span><span class="default">$error</span><span class="keyword">-&gt;</span><span class="default">message</span><span class="keyword">);<br>&#xA0; &#xA0; if (</span><span class="default">$error</span><span class="keyword">-&gt;</span><span class="default">file</span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$return </span><span class="keyword">.=&#xA0; &#xA0; </span><span class="string">&quot; in &lt;b&gt;</span><span class="default">$error</span><span class="keyword">-&gt;</span><span class="default">file</span><span class="string">&lt;/b&gt;&quot;</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; </span><span class="default">$return </span><span class="keyword">.= </span><span class="string">&quot; on line &lt;b&gt;</span><span class="default">$error</span><span class="keyword">-&gt;</span><span class="default">line</span><span class="string">&lt;/b&gt;\n&quot;</span><span class="keyword">;<br><br>&#xA0; &#xA0; return </span><span class="default">$return</span><span class="keyword">;<br>}<br><br>function </span><span class="default">libxml_display_errors</span><span class="keyword">() {<br>&#xA0; &#xA0; </span><span class="default">$errors </span><span class="keyword">= </span><span class="default">libxml_get_errors</span><span class="keyword">();<br>&#xA0; &#xA0; foreach (</span><span class="default">$errors </span><span class="keyword">as </span><span class="default">$error</span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; print </span><span class="default">libxml_display_error</span><span class="keyword">(</span><span class="default">$error</span><span class="keyword">);<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; </span><span class="default">libxml_clear_errors</span><span class="keyword">();<br>}<br><br></span><span class="comment">// Enable user error handling<br></span><span class="default">libxml_use_internal_errors</span><span class="keyword">(</span><span class="default">true</span><span class="keyword">);<br><br></span><span class="default">$xml </span><span class="keyword">= new </span><span class="default">DOMDocument</span><span class="keyword">(); <br></span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">load</span><span class="keyword">(</span><span class="string">&apos;example.xml&apos;</span><span class="keyword">); <br><br>if (!</span><span class="default">$xml</span><span class="keyword">-&gt;</span><span class="default">schemaValidate</span><span class="keyword">(</span><span class="string">&apos;example.xsd&apos;</span><span class="keyword">)) {<br>&#xA0; &#xA0; print </span><span class="string">&apos;&lt;b&gt;DOMDocument::schemaValidate() Generated Errors!&lt;/b&gt;&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; </span><span class="default">libxml_display_errors</span><span class="keyword">();<br>}<br><br></span><span class="default">?&gt;<br></span><br>Old error message:<br>Warning: DOMDocument::schemaValidate() [function.schemaValidate]: Element &apos;child_integer&apos;: &apos;Error condition.&apos; is not a valid value of the atomic type &apos;xs:integer&apos;. in example.php on line 40<br><br>New error message:<br>DOMDocument::schemaValidate() Generated Errors!<br>Error 1824: Element &apos;child_integer&apos;: &apos;Error condition.&apos; is not a valid value of the atomic type &apos;xs:integer&apos;. in example.xml on line 4</span>
</div>
  

#

[Official documentation page](https://www.php.net/manual/en/domdocument.schemavalidate.php)

**[â¬† to root](/)**