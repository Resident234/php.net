# ldap_read




<div class="phpcode"><span class="html">
Clarification of the ldap_read command syntax:&#xA0; <br><br>If you just want to pull certain attributes from an object and you already know it&apos;s dn, the ldap_read command can do this as illustrated below.&#xA0; It will be less overhead than ldap_search.<br><br>The string base_dn which is normally used to set the top context for a recursive ldap_search is used slightly differently with this command.&#xA0; It is used to specify the actual object with the full dn.&#xA0; (Hopefully this saves someone else a couple hours trying this command out.)<br><br><span class="default">&lt;?php<br>$ds </span><span class="keyword">= </span><span class="default">ldap</span><span class="keyword">.</span><span class="default">myserver</span><span class="keyword">.</span><span class="default">com </span><span class="comment">// your ldap server<br>&#xA0; </span><span class="default">$dn </span><span class="keyword">= </span><span class="string">&quot;cn=username,o=My Company, c=US&quot;</span><span class="keyword">; </span><span class="comment">//the object itself instead of the top search level as in ldap_search<br>&#xA0; </span><span class="default">$filter</span><span class="keyword">=</span><span class="string">&quot;(objectclass=*)&quot;</span><span class="keyword">; </span><span class="comment">// this command requires some filter<br>&#xA0; </span><span class="default">$justthese </span><span class="keyword">= array(</span><span class="string">&quot;ou&quot;</span><span class="keyword">, </span><span class="string">&quot;sn&quot;</span><span class="keyword">, </span><span class="string">&quot;givenname&quot;</span><span class="keyword">, </span><span class="string">&quot;mail&quot;</span><span class="keyword">); </span><span class="comment">//the attributes to pull, which is much more efficient than pulling all attributes if you don&apos;t do this<br>&#xA0; &#xA0; &#xA0; </span><span class="default">$sr</span><span class="keyword">=</span><span class="default">ldap_read</span><span class="keyword">(</span><span class="default">$ds</span><span class="keyword">, </span><span class="default">$dn</span><span class="keyword">, </span><span class="default">$filter</span><span class="keyword">, </span><span class="default">$justthese</span><span class="keyword">);<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$entry </span><span class="keyword">= </span><span class="default">ldap_get_entries</span><span class="keyword">(</span><span class="default">$ds</span><span class="keyword">, </span><span class="default">$sr</span><span class="keyword">);<br><br>echo </span><span class="default">$entry</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="string">&quot;mail&quot;</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">] . </span><span class="string">&quot;is the email address of the cn your requested&quot;</span><span class="keyword">;<br>echo </span><span class="default">$entry</span><span class="keyword">[</span><span class="default">0</span><span class="keyword">][</span><span class="string">&quot;sn&quot;</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">] . </span><span class="string">&quot;is the sn of the cn your requested&quot;</span><span class="keyword">;<br></span><span class="default">ldap_close</span><span class="keyword">(</span><span class="default">$ds</span><span class="keyword">);<br></span><span class="default">?&gt;</span> <br><br>This prints out the specified users mail and surname for example.</span>
</div>
  

#

[Official documentation page](https://www.php.net/manual/en/function.ldap-read.php)

**[To root](/README.md)**