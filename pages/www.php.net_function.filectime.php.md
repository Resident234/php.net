# filectime




<div class="phpcode"><span class="html">
This method gets all the files in a directory, and echoes them in the order of the date they were added (by ftp or whatever).<br><br><span class="default">&lt;?PHP<br></span><span class="keyword">function </span><span class="default">dirList </span><span class="keyword">(</span><span class="default">$directory</span><span class="keyword">, </span><span class="default">$sortOrder</span><span class="keyword">){<br><br>&#xA0; &#xA0; </span><span class="comment">//Get each file and add its details to two arrays<br>&#xA0; &#xA0; </span><span class="default">$results </span><span class="keyword">= array();<br>&#xA0; &#xA0; </span><span class="default">$handler </span><span class="keyword">= </span><span class="default">opendir</span><span class="keyword">(</span><span class="default">$directory</span><span class="keyword">);<br>&#xA0; &#xA0; while (</span><span class="default">$file </span><span class="keyword">= </span><span class="default">readdir</span><span class="keyword">(</span><span class="default">$handler</span><span class="keyword">)) {&#xA0; <br>&#xA0; &#xA0; &#xA0; &#xA0; if (</span><span class="default">$file </span><span class="keyword">!= </span><span class="string">&apos;.&apos; </span><span class="keyword">&amp;&amp; </span><span class="default">$file </span><span class="keyword">!= </span><span class="string">&apos;..&apos; </span><span class="keyword">&amp;&amp; </span><span class="default">$file </span><span class="keyword">!= </span><span class="string">&quot;robots.txt&quot; </span><span class="keyword">&amp;&amp; </span><span class="default">$file </span><span class="keyword">!= </span><span class="string">&quot;.htaccess&quot;</span><span class="keyword">){<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$currentModified </span><span class="keyword">= </span><span class="default">filectime</span><span class="keyword">(</span><span class="default">$directory</span><span class="keyword">.</span><span class="string">&quot;/&quot;</span><span class="keyword">.</span><span class="default">$file</span><span class="keyword">);<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$file_names</span><span class="keyword">[] = </span><span class="default">$file</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$file_dates</span><span class="keyword">[] = </span><span class="default">$currentModified</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; }&#xA0; &#xA0; <br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; &#xA0;&#xA0; </span><span class="default">closedir</span><span class="keyword">(</span><span class="default">$handler</span><span class="keyword">);<br><br>&#xA0; &#xA0; </span><span class="comment">//Sort the date array by preferred order<br>&#xA0; &#xA0; </span><span class="keyword">if (</span><span class="default">$sortOrder </span><span class="keyword">== </span><span class="string">&quot;newestFirst&quot;</span><span class="keyword">){<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">arsort</span><span class="keyword">(</span><span class="default">$file_dates</span><span class="keyword">);<br>&#xA0; &#xA0; }else{<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">asort</span><span class="keyword">(</span><span class="default">$file_dates</span><span class="keyword">);<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; </span><span class="comment">//Match file_names array to file_dates array<br>&#xA0; &#xA0; </span><span class="default">$file_names_Array </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">$file_dates</span><span class="keyword">);<br>&#xA0; &#xA0; foreach (</span><span class="default">$file_names_Array </span><span class="keyword">as </span><span class="default">$idx </span><span class="keyword">=&gt; </span><span class="default">$name</span><span class="keyword">) </span><span class="default">$name</span><span class="keyword">=</span><span class="default">$file_names</span><span class="keyword">[</span><span class="default">$name</span><span class="keyword">];<br>&#xA0; &#xA0; </span><span class="default">$file_dates </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$file_dates</span><span class="keyword">);<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br><br>&#xA0; &#xA0; </span><span class="comment">//Loop through dates array and then echo the list<br>&#xA0; &#xA0; </span><span class="keyword">foreach (</span><span class="default">$file_dates </span><span class="keyword">as </span><span class="default">$file_dates</span><span class="keyword">){<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$date </span><span class="keyword">= </span><span class="default">$file_dates</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$j </span><span class="keyword">= </span><span class="default">$file_names_Array</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">];<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$file </span><span class="keyword">= </span><span class="default">$file_names</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">];<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$i</span><span class="keyword">++;<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; <br>&#xA0; &#xA0; &#xA0; &#xA0; echo&#xA0; </span><span class="string">&quot;File name: </span><span class="default">$file</span><span class="string"> - Date Added: </span><span class="default">$date</span><span class="string">. &lt;br/&gt;&quot;&quot;;&#xA0; &#xA0; &#xA0; &#xA0; <br>&#xA0; &#xA0; }<br><br>}<br>?&gt;<br><br>I hope this is useful to somebody.</span>
</span>
</div>
  

#

[Official documentation page](https://www.php.net/manual/en/function.filectime.php)

**[To root](/README.md)**