# zlib_decode



To decode / uncompress the received HTTP POST data in PHP code, request data coming from Java / Android application via HTTP POST GZIP / DEFLATE compressed format<br><br>1) Data sent from Java Android app to PHP using DeflaterOutputStream java class and received in PHP as shown below<br>echo gzinflate( substr($HTTP_RAW_POST_DATA,2,-4) ) . PHP_EOL  . PHP_EOL;<br><br>2) Data sent from Java Android app to PHP using GZIPOutputStream java class and received in PHP code as shown below<br>echo gzinflate( substr($HTTP_RAW_POST_DATA,10,-8) ) . PHP_EOL  . PHP_EOL;<br><br>From Java Android side (API level 10+), data being sent in DEFLATE compressed format<br>        String body = "Lorem ipsum shizzle ma nizle";<br>        URL url = new URL("http://www.url.com/postthisdata.php");<br>        URLConnection conn = url.openConnection();<br>        conn.setDoOutput(true);<br>        conn.setRequestProperty("Content-encoding", "deflate");<br>        conn.setRequestProperty("Content-type", "application/octet-stream");<br>        DeflaterOutputStream dos = new DeflaterOutputStream(<br>                conn.getOutputStream());<br>        dos.write(body.getBytes());<br>        dos.flush();<br>        dos.close();<br>        BufferedReader in = new BufferedReader(new InputStreamReader(<br>                conn.getInputStream()));<br>        String decodedString = "";<br>        while ((decodedString = in.readLine()) != null) {<br>            Log.e("dump",decodedString);<br>        }<br>        in.close();<br><br>On PHP side (v 5.3.1), code for decompressing this DEFLATE data will be<br>    echo substr($HTTP_RAW_POST_DATA,2,-4);<br><br>From Java Android side (API level 10+), data being sent in GZIP compressed format<br><br>        String body1 = "Lorem ipsum shizzle ma nizle";<br>        URL url1 = new URL("http://www.url.com/postthisdata.php");<br>        URLConnection conn1 = url1.openConnection();<br>        conn1.setDoOutput(true);<br>        conn1.setRequestProperty("Content-encoding", "gzip");<br>        conn1.setRequestProperty("Content-type", "application/octet-stream");<br>        GZIPOutputStream dos1 = new GZIPOutputStream(conn1.getOutputStream());<br>        dos1.write(body1.getBytes());<br>        dos1.flush();<br>        dos1.close();<br>        BufferedReader in1 = new BufferedReader(new InputStreamReader(<br>                conn1.getInputStream()));<br>        String decodedString1 = "";<br>        while ((decodedString1 = in1.readLine()) != null) {<br>            Log.e("dump",decodedString1);<br>        }<br>        in1.close();<br><br>On PHP side (v 5.3.1), code for decompressing this GZIP data will be<br>    echo substr($HTTP_RAW_POST_DATA,10,-8);<br><br>Useful PHP code for printing out compressed data using all available formats.<br><br>$data = "Lorem ipsum shizzle ma nizle";<br>echo "\n\n\n";<br>for($i=-1;$i&lt;=9;$i++)<br>    echo chunk_split(strtoupper(bin2hex(gzcompress($data,$i))),2," ") . PHP_EOL  . PHP_EOL;<br>echo "\n\n\n";<br>for($i=-1;$i&lt;=9;$i++)<br>    echo chunk_split(strtoupper(bin2hex(gzdeflate($data,$i))),2," ") . PHP_EOL  . PHP_EOL;<br>echo "\n\n\n";<br>for($i=-1;$i&lt;=9;$i++)<br>    echo chunk_split(strtoupper(bin2hex(gzencode($data,$i,FORCE_GZIP))),2," ") . PHP_EOL  . PHP_EOL;<br>echo "\n\n\n";<br>for($i=-1;$i&lt;=9;$i++)<br>    echo chunk_split(strtoupper(bin2hex(gzencode($data,$i,FORCE_DEFLATE))),2," ") . PHP_EOL  . PHP_EOL;<br>echo "\n\n\n";<br><br>Hope this helps. Please ThumbsUp if this saved you a lot of effort and time.  

---

[Official documentation page](https://www.php.net/manual/en/function.zlib-decode.php)

**[To root](/README.md)**