# asort




<div class="phpcode"><span class="html">
This function can be used to sort multidimensional arrays with almost no work whatsoever by using the individual values within the custom sort function.<br><br>This function passes the entire child element even if it is not a string. If it is an array, as would be the case in multidimensional arrays, it will pass the whole child array as one parameter.<br><br>Therefore, do something elegant like this:<br><br><span class="default">&lt;?php<br>&#xA0; &#xA0;&#xA0; </span><span class="comment">// Sort the multidimensional array<br>&#xA0; &#xA0;&#xA0; </span><span class="default">usort</span><span class="keyword">(</span><span class="default">$results</span><span class="keyword">, </span><span class="string">&quot;custom_sort&quot;</span><span class="keyword">);<br>&#xA0; &#xA0;&#xA0; </span><span class="comment">// Define the custom sort function<br>&#xA0; &#xA0;&#xA0; </span><span class="keyword">function </span><span class="default">custom_sort</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">,</span><span class="default">$b</span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; return </span><span class="default">$a</span><span class="keyword">[</span><span class="string">&apos;some_sub_var&apos;</span><span class="keyword">]&gt;</span><span class="default">$b</span><span class="keyword">[</span><span class="string">&apos;some_sub_var&apos;</span><span class="keyword">];<br>&#xA0; &#xA0;&#xA0; }<br></span><span class="default">?&gt;<br></span><br>This does in 4 lines what other functions took 40 to 50 lines to do. This does not require you to create temporary arrays or anything. This is, for me, a highly preferred solution.<br><br>Hope it helps!</span>
</div>
  

#


<div class="phpcode"><span class="html">
/*<br> * Name : Aditya Mehrotra <br> * Email: aditycse@gmail.com<br> */<br>//Example for sorting by values for an alphanumeric array also having case-sensitive data<br>$exampleArray1 = $exampleArray2 = array(<br>&#xA0; &#xA0; 0 =&gt; &apos;example1&apos;,<br>&#xA0; &#xA0; 1 =&gt; &apos;Example10&apos;,<br>&#xA0; &#xA0; 2 =&gt; &apos;example12&apos;,<br>&#xA0; &#xA0; 3 =&gt; &apos;Example2&apos;,<br>&#xA0; &#xA0; 4 =&gt; &apos;example3&apos;,<br>&#xA0; &#xA0; 5 =&gt; &apos;EXAMPLE10&apos;,<br>&#xA0; &#xA0; 6 =&gt; &apos;example10&apos;<br>);<br><br>//default sorting<br>asort($exampleArray1);<br><br>// alphanumeric with case-sensitive data sorting by values<br>asort($exampleArray2, SORT_STRING | SORT_FLAG_CASE | SORT_NATURAL);<br><br>//output of defaut sorting<br>print_r($exampleArray1);<br>/*<br> * output of default sorting<br>&#xA0; Array<br>&#xA0; (<br>&#xA0; [5] =&gt; EXAMPLE10<br>&#xA0; [1] =&gt; Example10<br>&#xA0; [3] =&gt; Example2<br>&#xA0; [0] =&gt; example1<br>&#xA0; [6] =&gt; example10<br>&#xA0; [2] =&gt; example12<br>&#xA0; [4] =&gt; example3<br>&#xA0; )<br> */<br><br>print_r($exampleArray2);<br>/*<br> * output of alphanumeric with case-sensitive data sorting by values<br> Array<br>(<br>&#xA0; &#xA0; [0] =&gt; example1<br>&#xA0; &#xA0; [3] =&gt; Example2<br>&#xA0; &#xA0; [4] =&gt; example3<br>&#xA0; &#xA0; [5] =&gt; EXAMPLE10<br>&#xA0; &#xA0; [1] =&gt; Example10<br>&#xA0; &#xA0; [6] =&gt; example10<br>&#xA0; &#xA0; [2] =&gt; example12<br>)<br> */</span>
</div>
  

#


<div class="phpcode"><span class="html">
For a recent project I needed to sort an associative array by value first, and then by key if a particular value appeared multiple times. I wrote this function to accomplish the task. Note that the parameters default to sort ascending on both keys and values, but allow granular control over each.<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">aksort</span><span class="keyword">(&amp;</span><span class="default">$array</span><span class="keyword">,</span><span class="default">$valrev</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">,</span><span class="default">$keyrev</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">) {<br>&#xA0; if (</span><span class="default">$valrev</span><span class="keyword">) { </span><span class="default">arsort</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">); } else { </span><span class="default">asort</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">); }<br>&#xA0; &#xA0; </span><span class="default">$vals </span><span class="keyword">= </span><span class="default">array_count_values</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">);<br>&#xA0; &#xA0; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br>&#xA0; &#xA0; foreach (</span><span class="default">$vals </span><span class="keyword">AS </span><span class="default">$val</span><span class="keyword">=&gt;</span><span class="default">$num</span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$first </span><span class="keyword">= </span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$i</span><span class="keyword">);<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$tmp </span><span class="keyword">= </span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">,</span><span class="default">$num</span><span class="keyword">);<br>&#xA0; &#xA0; &#xA0; &#xA0; if (</span><span class="default">$keyrev</span><span class="keyword">) { </span><span class="default">krsort</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">); } else { </span><span class="default">ksort</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">); }<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$array </span><span class="keyword">= </span><span class="default">array_merge</span><span class="keyword">(</span><span class="default">$first</span><span class="keyword">,</span><span class="default">$tmp</span><span class="keyword">,</span><span class="default">$array</span><span class="keyword">);<br>&#xA0; &#xA0; &#xA0; &#xA0; unset(</span><span class="default">$tmp</span><span class="keyword">);<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">$num</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>}<br><br></span><span class="comment">// Example<br></span><span class="default">$tmp </span><span class="keyword">= array(</span><span class="string">&apos;ca&apos;</span><span class="keyword">=&gt;</span><span class="default">1</span><span class="keyword">,</span><span class="string">&apos;cb&apos;</span><span class="keyword">=&gt;</span><span class="default">2</span><span class="keyword">,</span><span class="string">&apos;ce&apos;</span><span class="keyword">=&gt;</span><span class="default">1</span><span class="keyword">,</span><span class="string">&apos;pa&apos;</span><span class="keyword">=&gt;</span><span class="default">2</span><span class="keyword">,</span><span class="string">&apos;pe&apos;</span><span class="keyword">=&gt;</span><span class="default">1</span><span class="keyword">);<br><br></span><span class="comment">// Standard asort<br></span><span class="default">asort</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">);<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">);<br><br></span><span class="comment">// Sort value ASC, key ASC<br></span><span class="default">aksort</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">);<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">);<br><br></span><span class="comment">// Sort value DESC, key ASC<br></span><span class="default">aksort</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">);<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">);<br><br></span><span class="comment">// Sort value DESC, key DESC<br></span><span class="default">aksort</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">,</span><span class="default">true</span><span class="keyword">);<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$tmp</span><span class="keyword">);<br><br></span><span class="comment">// Results<br></span><span class="keyword">Array<br>(<br>&#xA0; &#xA0; [</span><span class="default">pe</span><span class="keyword">] =&gt; </span><span class="default">1<br>&#xA0; &#xA0; </span><span class="keyword">[</span><span class="default">ca</span><span class="keyword">] =&gt; </span><span class="default">1<br>&#xA0; &#xA0; </span><span class="keyword">[</span><span class="default">ce</span><span class="keyword">] =&gt; </span><span class="default">1<br>&#xA0; &#xA0; </span><span class="keyword">[</span><span class="default">cb</span><span class="keyword">] =&gt; </span><span class="default">2<br>&#xA0; &#xA0; </span><span class="keyword">[</span><span class="default">pa</span><span class="keyword">] =&gt; </span><span class="default">2<br></span><span class="keyword">)<br>Array<br>(<br>&#xA0; &#xA0; [</span><span class="default">ca</span><span class="keyword">] =&gt; </span><span class="default">1<br>&#xA0; &#xA0; </span><span class="keyword">[</span><span class="default">ce</span><span class="keyword">] =&gt; </span><span class="default">1<br>&#xA0; &#xA0; </span><span class="keyword">[</span><span class="default">pe</span><span class="keyword">] =&gt; </span><span class="default">1<br>&#xA0; &#xA0; </span><span class="keyword">[</span><span class="default">cb</span><span class="keyword">] =&gt; </span><span class="default">2<br>&#xA0; &#xA0; </span><span class="keyword">[</span><span class="default">pa</span><span class="keyword">] =&gt; </span><span class="default">2<br></span><span class="keyword">)<br>Array<br>(<br>&#xA0; &#xA0; [</span><span class="default">cb</span><span class="keyword">] =&gt; </span><span class="default">2<br>&#xA0; &#xA0; </span><span class="keyword">[</span><span class="default">pa</span><span class="keyword">] =&gt; </span><span class="default">2<br>&#xA0; &#xA0; </span><span class="keyword">[</span><span class="default">ca</span><span class="keyword">] =&gt; </span><span class="default">1<br>&#xA0; &#xA0; </span><span class="keyword">[</span><span class="default">ce</span><span class="keyword">] =&gt; </span><span class="default">1<br>&#xA0; &#xA0; </span><span class="keyword">[</span><span class="default">pe</span><span class="keyword">] =&gt; </span><span class="default">1<br></span><span class="keyword">)<br>Array<br>(<br>&#xA0; &#xA0; [</span><span class="default">pa</span><span class="keyword">] =&gt; </span><span class="default">2<br>&#xA0; &#xA0; </span><span class="keyword">[</span><span class="default">cb</span><span class="keyword">] =&gt; </span><span class="default">2<br>&#xA0; &#xA0; </span><span class="keyword">[</span><span class="default">pe</span><span class="keyword">] =&gt; </span><span class="default">1<br>&#xA0; &#xA0; </span><span class="keyword">[</span><span class="default">ce</span><span class="keyword">] =&gt; </span><span class="default">1<br>&#xA0; &#xA0; </span><span class="keyword">[</span><span class="default">ca</span><span class="keyword">] =&gt; </span><span class="default">1<br></span><span class="keyword">)</span>
</span>
</div>
  

#


<div class="phpcode"><span class="html">
This is a function to sort an indexed 2D array by a specified sub array key, either ascending or descending.<br><br>It is usefull for sorting query results from a database by a particular field after the query has been returned<br><br>This function can be quite greedy. It recreates the array as a hash to use ksort() then back again<br><br>By default it will sort ascending but if you specify $reverse as true it will return the records sorted descending <br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">record_sort</span><span class="keyword">(</span><span class="default">$records</span><span class="keyword">, </span><span class="default">$field</span><span class="keyword">, </span><span class="default">$reverse</span><span class="keyword">=</span><span class="default">false</span><span class="keyword">)<br>{<br>&#xA0; &#xA0; </span><span class="default">$hash </span><span class="keyword">= array();<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; foreach(</span><span class="default">$records </span><span class="keyword">as </span><span class="default">$record</span><span class="keyword">)<br>&#xA0; &#xA0; {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$hash</span><span class="keyword">[</span><span class="default">$record</span><span class="keyword">[</span><span class="default">$field</span><span class="keyword">]] = </span><span class="default">$record</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; (</span><span class="default">$reverse</span><span class="keyword">)? </span><span class="default">krsort</span><span class="keyword">(</span><span class="default">$hash</span><span class="keyword">) : </span><span class="default">ksort</span><span class="keyword">(</span><span class="default">$hash</span><span class="keyword">);<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; </span><span class="default">$records </span><span class="keyword">= array();<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; foreach(</span><span class="default">$hash </span><span class="keyword">as </span><span class="default">$record</span><span class="keyword">)<br>&#xA0; &#xA0; {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$records </span><span class="keyword">[]= </span><span class="default">$record</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; return </span><span class="default">$records</span><span class="keyword">;<br>}<br><br></span><span class="comment">// Example below<br><br></span><span class="default">$airports </span><span class="keyword">= array<br>(<br>&#xA0; &#xA0; array( </span><span class="string">&quot;code&quot; </span><span class="keyword">=&gt; </span><span class="string">&quot;LHR&quot;</span><span class="keyword">, </span><span class="string">&quot;name&quot; </span><span class="keyword">=&gt; </span><span class="string">&quot;Heathrow&quot; </span><span class="keyword">),<br>&#xA0; &#xA0; array( </span><span class="string">&quot;code&quot; </span><span class="keyword">=&gt; </span><span class="string">&quot;LGW&quot;</span><span class="keyword">, </span><span class="string">&quot;name&quot; </span><span class="keyword">=&gt; </span><span class="string">&quot;Gatwick&quot; </span><span class="keyword">),<br>);<br><br></span><span class="default">printf</span><span class="keyword">(</span><span class="string">&quot;Before: &lt;pre&gt;%s&lt;/pre&gt;&quot;</span><span class="keyword">, </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$airports</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">));<br><br></span><span class="default">$airports </span><span class="keyword">= </span><span class="default">record_sort</span><span class="keyword">(</span><span class="default">$airports</span><span class="keyword">, </span><span class="string">&quot;name&quot;</span><span class="keyword">);<br><br></span><span class="default">printf</span><span class="keyword">(</span><span class="string">&quot;After: &lt;pre&gt;%s&lt;/pre&gt;&quot;</span><span class="keyword">, </span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$airports</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">));<br><br></span><span class="default">?&gt;<br></span><br>Example Outputs:<br><br>Before: Array<br>(<br>&#xA0; &#xA0; [0] =&gt; Array ( [code] =&gt; LHR, [name] =&gt; Heathrow )<br>&#xA0; &#xA0; [1] =&gt; Array ( [code] =&gt; LGW, [name] =&gt; Gatwick )<br>)<br><br>After: Array<br>(<br>&#xA0; &#xA0; [0] =&gt; Array ( [code] =&gt; LGW, [name] =&gt; Gatwick )<br>&#xA0; &#xA0; [1] =&gt; Array ( [code] =&gt; LHR, [name] =&gt; Heathrow )<br>)</span>
</div>
  

#

[Official documentation page](https://www.php.net/manual/en/function.asort.php)

**[To root](/README.md)**