# Closure::bind




<div class="phpcode"><span class="html">
With this class and method, it&apos;s possible to do nice things, like add methods on the fly to an object.<br><br>MetaTrait.php<br><span class="default">&lt;?php<br></span><span class="keyword">trait </span><span class="default">MetaTrait<br></span><span class="keyword">{<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; private </span><span class="default">$methods </span><span class="keyword">= array();<br> <br>&#xA0; &#xA0; public function </span><span class="default">addMethod</span><span class="keyword">(</span><span class="default">$methodName</span><span class="keyword">, </span><span class="default">$methodCallable</span><span class="keyword">)<br>&#xA0; &#xA0; {<br>&#xA0; &#xA0; &#xA0; &#xA0; if (!</span><span class="default">is_callable</span><span class="keyword">(</span><span class="default">$methodCallable</span><span class="keyword">)) {<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; throw new </span><span class="default">InvalidArgumentException</span><span class="keyword">(</span><span class="string">&apos;Second param must be callable&apos;</span><span class="keyword">);<br>&#xA0; &#xA0; &#xA0; &#xA0; }<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">methods</span><span class="keyword">[</span><span class="default">$methodName</span><span class="keyword">] = </span><span class="default">Closure</span><span class="keyword">::</span><span class="default">bind</span><span class="keyword">(</span><span class="default">$methodCallable</span><span class="keyword">, </span><span class="default">$this</span><span class="keyword">, </span><span class="default">get_class</span><span class="keyword">());<br>&#xA0; &#xA0; }<br> <br>&#xA0; &#xA0; public function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$methodName</span><span class="keyword">, array </span><span class="default">$args</span><span class="keyword">)<br>&#xA0; &#xA0; {<br>&#xA0; &#xA0; &#xA0; &#xA0; if (isset(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">methods</span><span class="keyword">[</span><span class="default">$methodName</span><span class="keyword">])) {<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; return </span><span class="default">call_user_func_array</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">methods</span><span class="keyword">[</span><span class="default">$methodName</span><span class="keyword">], </span><span class="default">$args</span><span class="keyword">);<br>&#xA0; &#xA0; &#xA0; &#xA0; }<br> <br>&#xA0; &#xA0; &#xA0; &#xA0; throw </span><span class="default">RunTimeException</span><span class="keyword">(</span><span class="string">&apos;There is no method with the given name to call&apos;</span><span class="keyword">);<br>&#xA0; &#xA0; }<br> <br>}<br></span><span class="default">?&gt;<br></span><br>test.php<br><span class="default">&lt;?php<br></span><span class="keyword">require </span><span class="string">&apos;MetaTrait.php&apos;</span><span class="keyword">;<br> <br>class </span><span class="default">HackThursday </span><span class="keyword">{<br>&#xA0; &#xA0; use </span><span class="default">MetaTrait</span><span class="keyword">;<br> <br>&#xA0; &#xA0; private </span><span class="default">$dayOfWeek </span><span class="keyword">= </span><span class="string">&apos;Thursday&apos;</span><span class="keyword">;<br> <br>}<br> <br></span><span class="default">$test </span><span class="keyword">= new </span><span class="default">HackThursday</span><span class="keyword">();<br></span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">addMethod</span><span class="keyword">(</span><span class="string">&apos;when&apos;</span><span class="keyword">, function () {<br>&#xA0; &#xA0; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">dayOfWeek</span><span class="keyword">;<br>});<br> <br>echo </span><span class="default">$test</span><span class="keyword">-&gt;</span><span class="default">when</span><span class="keyword">();<br><br></span><span class="default">?&gt;</span>
</span>
</div>
  

#

[Official documentation page](https://www.php.net/manual/en/closure.bind.php)

**[To root](/README.md)**