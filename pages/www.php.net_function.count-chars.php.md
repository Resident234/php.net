# count_chars




<div class="phpcode"><span class="html">
If you have problems using count_chars with a multibyte string, you can change the page encoding. Alternatively, you can also use this mb_count_chars version of the function. Basically it is mode &quot;1&quot; of the original function.<br><br><span class="default">&lt;?php<br></span><span class="comment">/**<br> * Counts character occurences in a multibyte string<br> * @param string $input UTF-8 data<br> * @return array associative array of characters.<br> */<br></span><span class="keyword">function </span><span class="default">mb_count_chars</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">) {<br>&#xA0; &#xA0; </span><span class="default">$l </span><span class="keyword">= </span><span class="default">mb_strlen</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="string">&apos;UTF-8&apos;</span><span class="keyword">);<br>&#xA0; &#xA0; </span><span class="default">$unique </span><span class="keyword">= array();<br>&#xA0; &#xA0; for(</span><span class="default">$i </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$l</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$char </span><span class="keyword">= </span><span class="default">mb_substr</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="string">&apos;UTF-8&apos;</span><span class="keyword">);<br>&#xA0; &#xA0; &#xA0; &#xA0; if(!</span><span class="default">array_key_exists</span><span class="keyword">(</span><span class="default">$char</span><span class="keyword">, </span><span class="default">$unique</span><span class="keyword">))<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$unique</span><span class="keyword">[</span><span class="default">$char</span><span class="keyword">] = </span><span class="default">0</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$unique</span><span class="keyword">[</span><span class="default">$char</span><span class="keyword">]++;<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; return </span><span class="default">$unique</span><span class="keyword">;<br>}<br><br></span><span class="default">$input </span><span class="keyword">= </span><span class="string">&quot;Let&apos;s try some Greek letters: &#x3B1;&#x3B1;&#x3B1;&#x3B1;&#x3B1;&#x395;&#x3B5;&#x399;&#x3B9;&#x39C;&#x3BC;&#x3A8;&#x3C8;, Russian: &#x419;&#x419;&#x42B;&#x42B;&#x429;&#x41D;, Czech: &#x11B;&#x161;&#x10D;&#x159;&#x17E;&#xFD;&#xE1;&#xED;&#xE9;&quot;</span><span class="keyword">;<br></span><span class="default">print_r</span><span class="keyword">( </span><span class="default">mb_count_chars</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">) ); <br></span><span class="comment">//returns: Array ( [L] =&gt; 1 [e] =&gt; 7 [t] =&gt; 4 [&apos;] =&gt; 1 [s] =&gt; 5 [ ] =&gt; 9 [r] =&gt; 3 [y] =&gt; 1 [o] =&gt; 1 [m] =&gt; 1 [G] =&gt; 1 [k] =&gt; 1 [l] =&gt; 1 [:] =&gt; 3 [&#x3B1;] =&gt; 5 [&#x395;] =&gt; 1 [&#x3B5;] =&gt; 1 [&#x399;] =&gt; 1 [&#x3B9;] =&gt; 1 [&#x39C;] =&gt; 1 [&#x3BC;] =&gt; 1 [&#x3A8;] =&gt; 1 [&#x3C8;] =&gt; 1 [,] =&gt; 2 [R] =&gt; 1 [u] =&gt; 1 [i] =&gt; 1 [a] =&gt; 1 [n] =&gt; 1 [&#x419;] =&gt; 2 [&#x42B;] =&gt; 2 [&#x429;] =&gt; 1 [&#x41D;] =&gt; 1 [C] =&gt; 1 [z] =&gt; 1 [c] =&gt; 1 [h] =&gt; 1 [&#x11B;] =&gt; 1 [&#x161;] =&gt; 1 [&#x10D;] =&gt; 1 [&#x159;] =&gt; 1 [&#x17E;] =&gt; 1 [&#xFD;] =&gt; 1 [&#xE1;] =&gt; 1 [&#xED;] =&gt; 1 [&#xE9;] =&gt; 1 )<br></span><span class="default">?&gt;</span>
</span>
</div>
  

#

[Official documentation page](https://www.php.net/manual/en/function.count-chars.php)

**[To root](/README.md)**