# str_pad




<div class="phpcode"><span class="html">
since the default pad_type is STR_PAD_RIGHT. using STR_PAD_BOTH were always favor in the right pad if the required number of padding characters can&apos;t be evenly divided. <br><br>e.g<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">echo </span><span class="default">str_pad</span><span class="keyword">(</span><span class="string">&quot;input&quot;</span><span class="keyword">, </span><span class="default">10</span><span class="keyword">, </span><span class="string">&quot;pp&quot;</span><span class="keyword">, </span><span class="default">STR_PAD_BOTH </span><span class="keyword">); </span><span class="comment">// ppinputppp<br></span><span class="keyword">echo </span><span class="default">str_pad</span><span class="keyword">(</span><span class="string">&quot;input&quot;</span><span class="keyword">, </span><span class="default">6</span><span class="keyword">, </span><span class="string">&quot;p&quot;</span><span class="keyword">, </span><span class="default">STR_PAD_BOTH </span><span class="keyword">); </span><span class="comment">// inputp<br></span><span class="keyword">echo </span><span class="default">str_pad</span><span class="keyword">(</span><span class="string">&quot;input&quot;</span><span class="keyword">, </span><span class="default">8</span><span class="keyword">, </span><span class="string">&quot;p&quot;</span><span class="keyword">, </span><span class="default">STR_PAD_BOTH </span><span class="keyword">); </span><span class="comment">//pinputpp<br><br></span><span class="default">?&gt;</span>
</span>
</div>
  

#


<div class="phpcode"><span class="html">
A proper unicode string padder;<br><br><span class="default">&lt;?php<br>mb_internal_encoding</span><span class="keyword">(</span><span class="string">&apos;utf-8&apos;</span><span class="keyword">); </span><span class="comment">// @important<br><br></span><span class="keyword">function </span><span class="default">str_pad_unicode</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$pad_len</span><span class="keyword">, </span><span class="default">$pad_str </span><span class="keyword">= </span><span class="string">&apos; &apos;</span><span class="keyword">, </span><span class="default">$dir </span><span class="keyword">= </span><span class="default">STR_PAD_RIGHT</span><span class="keyword">) {<br>&#xA0; &#xA0; </span><span class="default">$str_len </span><span class="keyword">= </span><span class="default">mb_strlen</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">);<br>&#xA0; &#xA0; </span><span class="default">$pad_str_len </span><span class="keyword">= </span><span class="default">mb_strlen</span><span class="keyword">(</span><span class="default">$pad_str</span><span class="keyword">);<br>&#xA0; &#xA0; if (!</span><span class="default">$str_len </span><span class="keyword">&amp;&amp; (</span><span class="default">$dir </span><span class="keyword">== </span><span class="default">STR_PAD_RIGHT </span><span class="keyword">|| </span><span class="default">$dir </span><span class="keyword">== </span><span class="default">STR_PAD_LEFT</span><span class="keyword">)) {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$str_len </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">; </span><span class="comment">// @debug<br>&#xA0; &#xA0; </span><span class="keyword">}<br>&#xA0; &#xA0; if (!</span><span class="default">$pad_len </span><span class="keyword">|| !</span><span class="default">$pad_str_len </span><span class="keyword">|| </span><span class="default">$pad_len </span><span class="keyword">&lt;= </span><span class="default">$str_len</span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; return </span><span class="default">$str</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br>&#xA0; &#xA0; </span><span class="default">$repeat </span><span class="keyword">= </span><span class="default">ceil</span><span class="keyword">(</span><span class="default">$str_len </span><span class="keyword">- </span><span class="default">$pad_str_len </span><span class="keyword">+ </span><span class="default">$pad_len</span><span class="keyword">);<br>&#xA0; &#xA0; if (</span><span class="default">$dir </span><span class="keyword">== </span><span class="default">STR_PAD_RIGHT</span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">$str </span><span class="keyword">. </span><span class="default">str_repeat</span><span class="keyword">(</span><span class="default">$pad_str</span><span class="keyword">, </span><span class="default">$repeat</span><span class="keyword">);<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">mb_substr</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$pad_len</span><span class="keyword">);<br>&#xA0; &#xA0; } else if (</span><span class="default">$dir </span><span class="keyword">== </span><span class="default">STR_PAD_LEFT</span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">str_repeat</span><span class="keyword">(</span><span class="default">$pad_str</span><span class="keyword">, </span><span class="default">$repeat</span><span class="keyword">) . </span><span class="default">$str</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">mb_substr</span><span class="keyword">(</span><span class="default">$result</span><span class="keyword">, -</span><span class="default">$pad_len</span><span class="keyword">);<br>&#xA0; &#xA0; } else if (</span><span class="default">$dir </span><span class="keyword">== </span><span class="default">STR_PAD_BOTH</span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$length </span><span class="keyword">= (</span><span class="default">$pad_len </span><span class="keyword">- </span><span class="default">$str_len</span><span class="keyword">) / </span><span class="default">2</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$repeat </span><span class="keyword">= </span><span class="default">ceil</span><span class="keyword">(</span><span class="default">$length </span><span class="keyword">/ </span><span class="default">$pad_str_len</span><span class="keyword">);<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">mb_substr</span><span class="keyword">(</span><span class="default">str_repeat</span><span class="keyword">(</span><span class="default">$pad_str</span><span class="keyword">, </span><span class="default">$repeat</span><span class="keyword">), </span><span class="default">0</span><span class="keyword">, </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$length</span><span class="keyword">)) <br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; . </span><span class="default">$str <br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; </span><span class="keyword">. </span><span class="default">mb_substr</span><span class="keyword">(</span><span class="default">str_repeat</span><span class="keyword">(</span><span class="default">$pad_str</span><span class="keyword">, </span><span class="default">$repeat</span><span class="keyword">), </span><span class="default">0</span><span class="keyword">, </span><span class="default">ceil</span><span class="keyword">(</span><span class="default">$length</span><span class="keyword">));<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; return </span><span class="default">$result</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;<br></span><br>Test;<br><span class="default">&lt;?php<br></span><span class="comment">// needs ie. &quot;test.php&quot; file encoded in &quot;utf-8 without bom&quot;<br></span><span class="default">$s </span><span class="keyword">= </span><span class="string">&apos;...&apos;</span><span class="keyword">;<br>for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">3</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">1000</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br>&#xA0; &#xA0; </span><span class="default">$s1 </span><span class="keyword">= </span><span class="default">str_pad</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">, </span><span class="string">&apos;AO&apos;</span><span class="keyword">, </span><span class="default">STR_PAD_BOTH</span><span class="keyword">); </span><span class="comment">// can not inculde unicode char!!!<br>&#xA0; &#xA0; </span><span class="default">$s2 </span><span class="keyword">= </span><span class="default">str_pad_unicode</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">, </span><span class="default">$i</span><span class="keyword">, </span><span class="string">&apos;&#xC4;&#xD6;&apos;</span><span class="keyword">, </span><span class="default">STR_PAD_BOTH</span><span class="keyword">);<br>&#xA0; &#xA0; </span><span class="default">$sl1 </span><span class="keyword">= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$s1</span><span class="keyword">);<br>&#xA0; &#xA0; </span><span class="default">$sl2 </span><span class="keyword">= </span><span class="default">mb_strlen</span><span class="keyword">(</span><span class="default">$s2</span><span class="keyword">);<br>&#xA0; &#xA0; echo&#xA0; </span><span class="string">&quot;len </span><span class="default">$sl1</span><span class="string">: </span><span class="default">$s1</span><span class="string"> \n&quot;</span><span class="keyword">;<br>&#xA0; &#xA0; echo&#xA0; </span><span class="string">&quot;len </span><span class="default">$sl2</span><span class="string">: </span><span class="default">$s2</span><span class="string"> \n&quot;</span><span class="keyword">;<br>&#xA0; &#xA0; echo&#xA0; </span><span class="string">&quot;\n&quot;</span><span class="keyword">;<br>&#xA0; &#xA0; if (</span><span class="default">$sl1 </span><span class="keyword">!= </span><span class="default">$sl2</span><span class="keyword">) die(</span><span class="string">&quot;Fail!&quot;</span><span class="keyword">);<br>}<br></span><span class="default">?&gt;<br></span><br>Output;<br>len 3: ... <br>len 3: ... <br><br>len 4: ...A <br>len 4: ...&#xC4; <br><br>len 5: A...A <br>len 5: &#xC4;...&#xC4; <br><br>len 6: A...AO <br>len 6: &#xC4;...&#xC4;&#xD6; <br>...</span>
</div>
  

#


<div class="phpcode"><span class="html">
multibyte version:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">mb_str_pad</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$pad_len</span><span class="keyword">, </span><span class="default">$pad_str </span><span class="keyword">= </span><span class="string">&apos; &apos;</span><span class="keyword">, </span><span class="default">$dir </span><span class="keyword">= </span><span class="default">STR_PAD_RIGHT</span><span class="keyword">, </span><span class="default">$encoding </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">)<br>{<br>&#xA0; &#xA0; </span><span class="default">$encoding </span><span class="keyword">= </span><span class="default">$encoding </span><span class="keyword">=== </span><span class="default">NULL </span><span class="keyword">? </span><span class="default">mb_internal_encoding</span><span class="keyword">() : </span><span class="default">$encoding</span><span class="keyword">;<br>&#xA0; &#xA0; </span><span class="default">$padBefore </span><span class="keyword">= </span><span class="default">$dir </span><span class="keyword">=== </span><span class="default">STR_PAD_BOTH </span><span class="keyword">|| </span><span class="default">$dir </span><span class="keyword">=== </span><span class="default">STR_PAD_LEFT</span><span class="keyword">;<br>&#xA0; &#xA0; </span><span class="default">$padAfter </span><span class="keyword">= </span><span class="default">$dir </span><span class="keyword">=== </span><span class="default">STR_PAD_BOTH </span><span class="keyword">|| </span><span class="default">$dir </span><span class="keyword">=== </span><span class="default">STR_PAD_RIGHT</span><span class="keyword">;<br>&#xA0; &#xA0; </span><span class="default">$pad_len </span><span class="keyword">-= </span><span class="default">mb_strlen</span><span class="keyword">(</span><span class="default">$str</span><span class="keyword">, </span><span class="default">$encoding</span><span class="keyword">);<br>&#xA0; &#xA0; </span><span class="default">$targetLen </span><span class="keyword">= </span><span class="default">$padBefore </span><span class="keyword">&amp;&amp; </span><span class="default">$padAfter </span><span class="keyword">? </span><span class="default">$pad_len </span><span class="keyword">/ </span><span class="default">2 </span><span class="keyword">: </span><span class="default">$pad_len</span><span class="keyword">;<br>&#xA0; &#xA0; </span><span class="default">$strToRepeatLen </span><span class="keyword">= </span><span class="default">mb_strlen</span><span class="keyword">(</span><span class="default">$pad_str</span><span class="keyword">, </span><span class="default">$encoding</span><span class="keyword">);<br>&#xA0; &#xA0; </span><span class="default">$repeatTimes </span><span class="keyword">= </span><span class="default">ceil</span><span class="keyword">(</span><span class="default">$targetLen </span><span class="keyword">/ </span><span class="default">$strToRepeatLen</span><span class="keyword">);<br>&#xA0; &#xA0; </span><span class="default">$repeatedString </span><span class="keyword">= </span><span class="default">str_repeat</span><span class="keyword">(</span><span class="default">$pad_str</span><span class="keyword">, </span><span class="default">max</span><span class="keyword">(</span><span class="default">0</span><span class="keyword">, </span><span class="default">$repeatTimes</span><span class="keyword">)); </span><span class="comment">// safe if used with valid utf-8 strings<br>&#xA0; &#xA0; </span><span class="default">$before </span><span class="keyword">= </span><span class="default">$padBefore </span><span class="keyword">? </span><span class="default">mb_substr</span><span class="keyword">(</span><span class="default">$repeatedString</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$targetLen</span><span class="keyword">), </span><span class="default">$encoding</span><span class="keyword">) : </span><span class="string">&apos;&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; </span><span class="default">$after </span><span class="keyword">= </span><span class="default">$padAfter </span><span class="keyword">? </span><span class="default">mb_substr</span><span class="keyword">(</span><span class="default">$repeatedString</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">ceil</span><span class="keyword">(</span><span class="default">$targetLen</span><span class="keyword">), </span><span class="default">$encoding</span><span class="keyword">) : </span><span class="string">&apos;&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; return </span><span class="default">$before </span><span class="keyword">. </span><span class="default">$str </span><span class="keyword">. </span><span class="default">$after</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;</span>
</span>
</div>
  

#

[Official documentation page](https://www.php.net/manual/en/function.str-pad.php)

**[To root](/README.md)**