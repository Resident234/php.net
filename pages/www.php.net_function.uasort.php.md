# uasort




<div class="phpcode"><span class="html">
a quick reminder on the syntax if you want to use uasort in a Class or Object:
<br>
<br><span class="default">&lt;?php
<br>
<br></span><span class="comment">// procedural:
<br></span><span class="default">uasort</span><span class="keyword">(</span><span class="default">$collection</span><span class="keyword">, </span><span class="string">&apos;my_sort_function&apos;</span><span class="keyword">);
<br>
<br></span><span class="comment">// Object Oriented
<br></span><span class="default">uasort</span><span class="keyword">(</span><span class="default">$collection</span><span class="keyword">, array(</span><span class="default">$this</span><span class="keyword">, </span><span class="string">&apos;mySortMethod&apos;</span><span class="keyword">));
<br>
<br></span><span class="comment">// Objet Oriented with static method
<br></span><span class="default">uasort</span><span class="keyword">(</span><span class="default">$collection</span><span class="keyword">, array(</span><span class="string">&apos;self&apos;</span><span class="keyword">, </span><span class="string">&apos;myStaticSortMethod&apos;</span><span class="keyword">));
<br>
<br></span><span class="default">?&gt;</span>
</span>
</div>
  

#


<div class="phpcode"><span class="html">
If you want to keep the order when two members compare as equal, use this.<br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">stable_uasort</span><span class="keyword">(&amp;</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$cmp_function</span><span class="keyword">) {<br>&#xA0; &#xA0; if(</span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) &lt; </span><span class="default">2</span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; return;<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; </span><span class="default">$halfway </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">) / </span><span class="default">2</span><span class="keyword">;<br>&#xA0; &#xA0; </span><span class="default">$array1 </span><span class="keyword">= </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">$halfway</span><span class="keyword">, </span><span class="default">TRUE</span><span class="keyword">);<br>&#xA0; &#xA0; </span><span class="default">$array2 </span><span class="keyword">= </span><span class="default">array_slice</span><span class="keyword">(</span><span class="default">$array</span><span class="keyword">, </span><span class="default">$halfway</span><span class="keyword">, </span><span class="default">NULL</span><span class="keyword">, </span><span class="default">TRUE</span><span class="keyword">);<br><br>&#xA0; &#xA0; </span><span class="default">stable_uasort</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">, </span><span class="default">$cmp_function</span><span class="keyword">);<br>&#xA0; &#xA0; </span><span class="default">stable_uasort</span><span class="keyword">(</span><span class="default">$array2</span><span class="keyword">, </span><span class="default">$cmp_function</span><span class="keyword">);<br>&#xA0; &#xA0; if(</span><span class="default">call_user_func</span><span class="keyword">(</span><span class="default">$cmp_function</span><span class="keyword">, </span><span class="default">end</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">), </span><span class="default">reset</span><span class="keyword">(</span><span class="default">$array2</span><span class="keyword">)) &lt; </span><span class="default">1</span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$array </span><span class="keyword">= </span><span class="default">$array1 </span><span class="keyword">+ </span><span class="default">$array2</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; return;<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; </span><span class="default">$array </span><span class="keyword">= array();<br>&#xA0; &#xA0; </span><span class="default">reset</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">);<br>&#xA0; &#xA0; </span><span class="default">reset</span><span class="keyword">(</span><span class="default">$array2</span><span class="keyword">);<br>&#xA0; &#xA0; while(</span><span class="default">current</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">) &amp;&amp; </span><span class="default">current</span><span class="keyword">(</span><span class="default">$array2</span><span class="keyword">)) {<br>&#xA0; &#xA0; &#xA0; &#xA0; if(</span><span class="default">call_user_func</span><span class="keyword">(</span><span class="default">$cmp_function</span><span class="keyword">, </span><span class="default">current</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">), </span><span class="default">current</span><span class="keyword">(</span><span class="default">$array2</span><span class="keyword">)) &lt; </span><span class="default">1</span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$array</span><span class="keyword">[</span><span class="default">key</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">)] = </span><span class="default">current</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">);<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">next</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">);<br>&#xA0; &#xA0; &#xA0; &#xA0; } else {<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$array</span><span class="keyword">[</span><span class="default">key</span><span class="keyword">(</span><span class="default">$array2</span><span class="keyword">)] = </span><span class="default">current</span><span class="keyword">(</span><span class="default">$array2</span><span class="keyword">);<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">next</span><span class="keyword">(</span><span class="default">$array2</span><span class="keyword">);<br>&#xA0; &#xA0; &#xA0; &#xA0; }<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; while(</span><span class="default">current</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">)) {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$array</span><span class="keyword">[</span><span class="default">key</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">)] = </span><span class="default">current</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">);<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">next</span><span class="keyword">(</span><span class="default">$array1</span><span class="keyword">);<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; while(</span><span class="default">current</span><span class="keyword">(</span><span class="default">$array2</span><span class="keyword">)) {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$array</span><span class="keyword">[</span><span class="default">key</span><span class="keyword">(</span><span class="default">$array2</span><span class="keyword">)] = </span><span class="default">current</span><span class="keyword">(</span><span class="default">$array2</span><span class="keyword">);<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">next</span><span class="keyword">(</span><span class="default">$array2</span><span class="keyword">);<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; return;<br>}<br><br>function </span><span class="default">cmp</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">) {<br>&#xA0; &#xA0; if(</span><span class="default">$a</span><span class="keyword">[</span><span class="string">&apos;n&apos;</span><span class="keyword">] == </span><span class="default">$b</span><span class="keyword">[</span><span class="string">&apos;n&apos;</span><span class="keyword">]) {<br>&#xA0; &#xA0; &#xA0; &#xA0; return </span><span class="default">0</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; return (</span><span class="default">$a</span><span class="keyword">[</span><span class="string">&apos;n&apos;</span><span class="keyword">] &gt; </span><span class="default">$b</span><span class="keyword">[</span><span class="string">&apos;n&apos;</span><span class="keyword">]) ? -</span><span class="default">1 </span><span class="keyword">: </span><span class="default">1</span><span class="keyword">;<br>}<br><br></span><span class="default">$a </span><span class="keyword">= </span><span class="default">$b </span><span class="keyword">= array(<br>&#xA0; &#xA0; </span><span class="string">&apos;a&apos; </span><span class="keyword">=&gt; array(</span><span class="string">&quot;l&quot; </span><span class="keyword">=&gt; </span><span class="string">&quot;A&quot;</span><span class="keyword">, </span><span class="string">&quot;n&quot; </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">),<br>&#xA0; &#xA0; </span><span class="string">&apos;b&apos; </span><span class="keyword">=&gt; array(</span><span class="string">&quot;l&quot; </span><span class="keyword">=&gt; </span><span class="string">&quot;B&quot;</span><span class="keyword">, </span><span class="string">&quot;n&quot; </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">),<br>&#xA0; &#xA0; </span><span class="string">&apos;c&apos; </span><span class="keyword">=&gt; array(</span><span class="string">&quot;l&quot; </span><span class="keyword">=&gt; </span><span class="string">&quot;C&quot;</span><span class="keyword">, </span><span class="string">&quot;n&quot; </span><span class="keyword">=&gt; </span><span class="default">1</span><span class="keyword">),<br>&#xA0; &#xA0; </span><span class="string">&apos;d&apos; </span><span class="keyword">=&gt; array(</span><span class="string">&quot;l&quot; </span><span class="keyword">=&gt; </span><span class="string">&quot;D&quot;</span><span class="keyword">, </span><span class="string">&quot;n&quot; </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">),<br>&#xA0; &#xA0; </span><span class="string">&apos;e&apos; </span><span class="keyword">=&gt; array(</span><span class="string">&quot;l&quot; </span><span class="keyword">=&gt; </span><span class="string">&quot;E&quot;</span><span class="keyword">, </span><span class="string">&quot;n&quot; </span><span class="keyword">=&gt; </span><span class="default">2</span><span class="keyword">),<br>);<br><br></span><span class="default">uasort</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">, </span><span class="string">&apos;cmp&apos;</span><span class="keyword">);<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">);<br><br></span><span class="default">stable_uasort</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">, </span><span class="string">&apos;cmp&apos;</span><span class="keyword">);<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$b</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span><br>returns<br><br>Array<br>(<br>&#xA0; &#xA0; [e] =&gt; Array<br>&#xA0; &#xA0; &#xA0; &#xA0; (<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [l] =&gt; E<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [n] =&gt; 2<br>&#xA0; &#xA0; &#xA0; &#xA0; )<br><br>&#xA0; &#xA0; [b] =&gt; Array<br>&#xA0; &#xA0; &#xA0; &#xA0; (<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [l] =&gt; B<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [n] =&gt; 2<br>&#xA0; &#xA0; &#xA0; &#xA0; )<br><br>&#xA0; &#xA0; [d] =&gt; Array<br>&#xA0; &#xA0; &#xA0; &#xA0; (<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [l] =&gt; D<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [n] =&gt; 2<br>&#xA0; &#xA0; &#xA0; &#xA0; )<br><br>&#xA0; &#xA0; [c] =&gt; Array<br>&#xA0; &#xA0; &#xA0; &#xA0; (<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [l] =&gt; C<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [n] =&gt; 1<br>&#xA0; &#xA0; &#xA0; &#xA0; )<br><br>&#xA0; &#xA0; [a] =&gt; Array<br>&#xA0; &#xA0; &#xA0; &#xA0; (<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [l] =&gt; A<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [n] =&gt; 1<br>&#xA0; &#xA0; &#xA0; &#xA0; )<br><br>)<br>Array<br>(<br>&#xA0; &#xA0; [b] =&gt; Array<br>&#xA0; &#xA0; &#xA0; &#xA0; (<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [l] =&gt; B<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [n] =&gt; 2<br>&#xA0; &#xA0; &#xA0; &#xA0; )<br><br>&#xA0; &#xA0; [d] =&gt; Array<br>&#xA0; &#xA0; &#xA0; &#xA0; (<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [l] =&gt; D<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [n] =&gt; 2<br>&#xA0; &#xA0; &#xA0; &#xA0; )<br><br>&#xA0; &#xA0; [e] =&gt; Array<br>&#xA0; &#xA0; &#xA0; &#xA0; (<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [l] =&gt; E<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [n] =&gt; 2<br>&#xA0; &#xA0; &#xA0; &#xA0; )<br><br>&#xA0; &#xA0; [a] =&gt; Array<br>&#xA0; &#xA0; &#xA0; &#xA0; (<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [l] =&gt; A<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [n] =&gt; 1<br>&#xA0; &#xA0; &#xA0; &#xA0; )<br><br>&#xA0; &#xA0; [c] =&gt; Array<br>&#xA0; &#xA0; &#xA0; &#xA0; (<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [l] =&gt; C<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [n] =&gt; 1<br>&#xA0; &#xA0; &#xA0; &#xA0; )<br>)<br><br><a href="https://bugs.php.net/bug.php?id=53341" rel="nofollow" target="_blank">https://bugs.php.net/bug.php?id=53341</a></span>
</div>
  

#


<div class="phpcode"><span class="html">
An Example using anonymous function.<br>Anonymous functions make some time the code easier to understand.<br><span class="default">&lt;?php<br>$fruits </span><span class="keyword">= array(</span><span class="string">&apos;Orange9&apos;</span><span class="keyword">,</span><span class="string">&apos;Orange11&apos;</span><span class="keyword">,</span><span class="string">&apos;Orange10&apos;</span><span class="keyword">,</span><span class="string">&apos;Orange6&apos;</span><span class="keyword">,</span><span class="string">&apos;Orange15&apos;</span><span class="keyword">);<br></span><span class="default">uasort </span><span class="keyword">( </span><span class="default">$fruits </span><span class="keyword">, function (</span><span class="default">$a</span><span class="keyword">, </span><span class="default">$b</span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; return </span><span class="default">strnatcmp</span><span class="keyword">(</span><span class="default">$a</span><span class="keyword">,</span><span class="default">$b</span><span class="keyword">); </span><span class="comment">// or other function/code<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="keyword">}<br>&#xA0; &#xA0; );<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$fruits</span><span class="keyword">);<br></span><span class="default">?&gt;<br></span>returns<br>Array<br>(<br>&#xA0; &#xA0; [3] =&gt; Orange6<br>&#xA0; &#xA0; [0] =&gt; Orange9<br>&#xA0; &#xA0; [2] =&gt; Orange10<br>&#xA0; &#xA0; [1] =&gt; Orange11<br>&#xA0; &#xA0; [4] =&gt; Orange15<br>)</span>
</div>
  

#

[Official documentation page](https://www.php.net/manual/en/function.uasort.php)

**[To root](/README.md)**