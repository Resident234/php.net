# ord




<div class="phpcode"><span class="html">
As ord() doesn&apos;t work with utf-8, and if you do not have access to mb_* functions, the following function will work well:<br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">ordutf8</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, &amp;</span><span class="default">$offset</span><span class="keyword">) {<br>&#xA0; &#xA0; </span><span class="default">$code </span><span class="keyword">= </span><span class="default">ord</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$offset</span><span class="keyword">,</span><span class="default">1</span><span class="keyword">)); <br>&#xA0; &#xA0; if (</span><span class="default">$code </span><span class="keyword">&gt;= </span><span class="default">128</span><span class="keyword">) {&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="comment">//otherwise 0xxxxxxx<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="keyword">if (</span><span class="default">$code </span><span class="keyword">&lt; </span><span class="default">224</span><span class="keyword">) </span><span class="default">$bytesnumber </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">;&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="comment">//110xxxxx<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="keyword">else if (</span><span class="default">$code </span><span class="keyword">&lt; </span><span class="default">240</span><span class="keyword">) </span><span class="default">$bytesnumber </span><span class="keyword">= </span><span class="default">3</span><span class="keyword">;&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="comment">//1110xxxx<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="keyword">else if (</span><span class="default">$code </span><span class="keyword">&lt; </span><span class="default">248</span><span class="keyword">) </span><span class="default">$bytesnumber </span><span class="keyword">= </span><span class="default">4</span><span class="keyword">;&#xA0; &#xA0; </span><span class="comment">//11110xxx<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$codetemp </span><span class="keyword">= </span><span class="default">$code </span><span class="keyword">- </span><span class="default">192 </span><span class="keyword">- (</span><span class="default">$bytesnumber </span><span class="keyword">&gt; </span><span class="default">2 </span><span class="keyword">? </span><span class="default">32 </span><span class="keyword">: </span><span class="default">0</span><span class="keyword">) - (</span><span class="default">$bytesnumber </span><span class="keyword">&gt; </span><span class="default">3 </span><span class="keyword">? </span><span class="default">16 </span><span class="keyword">: </span><span class="default">0</span><span class="keyword">);<br>&#xA0; &#xA0; &#xA0; &#xA0; for (</span><span class="default">$i </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt;= </span><span class="default">$bytesnumber</span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++) {<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$offset </span><span class="keyword">++;<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$code2 </span><span class="keyword">= </span><span class="default">ord</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">, </span><span class="default">$offset</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">)) - </span><span class="default">128</span><span class="keyword">;&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="comment">//10xxxxxx<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$codetemp </span><span class="keyword">= </span><span class="default">$codetemp</span><span class="keyword">*</span><span class="default">64 </span><span class="keyword">+ </span><span class="default">$code2</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; }<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$code </span><span class="keyword">= </span><span class="default">$codetemp</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; </span><span class="default">$offset </span><span class="keyword">+= </span><span class="default">1</span><span class="keyword">;<br>&#xA0; &#xA0; if (</span><span class="default">$offset </span><span class="keyword">&gt;= </span><span class="default">strlen</span><span class="keyword">(</span><span class="default">$string</span><span class="keyword">)) </span><span class="default">$offset </span><span class="keyword">= -</span><span class="default">1</span><span class="keyword">;<br>&#xA0; &#xA0; return </span><span class="default">$code</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;<br></span>$offset is a reference, as it is not easy to split a utf-8 char-by-char. Useful to iterate on a string:<br><span class="default">&lt;?php<br>$text </span><span class="keyword">= </span><span class="string">&quot;abc&#xE0;&#xEA;&#xDF;&#x20AC;abc&quot;</span><span class="keyword">;<br></span><span class="default">$offset </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br>while (</span><span class="default">$offset </span><span class="keyword">&gt;= </span><span class="default">0</span><span class="keyword">) {<br>&#xA0; &#xA0; echo </span><span class="default">$offset</span><span class="keyword">.</span><span class="string">&quot;: &quot;</span><span class="keyword">.</span><span class="default">ordutf8</span><span class="keyword">(</span><span class="default">$text</span><span class="keyword">, </span><span class="default">$offset</span><span class="keyword">).</span><span class="string">&quot;\n&quot;</span><span class="keyword">;<br>}<br></span><span class="comment">/* returns:<br>0: 97<br>1: 98<br>2: 99<br>3: 224<br>5: 234<br>7: 223<br>9: 8364<br>12: 97<br>13: 98<br>14: 99<br>*/<br></span><span class="default">?&gt;<br></span>Feel free to adapt my code to fit your needs.</span>
</div>
  

#


<div class="phpcode"><span class="html">
Regarding character sets, and whether or not this is &quot;ASCII&quot;. Firstly, there is no such thing as &quot;8-bit ASCII&quot;, so if it were ASCII it would only ever return integers up to 127. 8-bit ASCII-compatible encodings include the ISO 8859 family of encodings, which map various common characters to the values from 128 to 255. UTF-8 is also designed so that characters representable in 7-bit ASCII are coded the same; byte values higher than 127 in a UTF-8 string represent the beginning of a multi-byte character.<br><br>In fact, like most of PHP&apos;s string functions, this function isn&apos;t doing anything to do with character encoding at all - it is just interpreting a binary byte from a string as an unsigned integer. That is, ord(chr(200)) will always return 200, but what character chr(200) *means* will vary depending on what character encoding it is *interpreted* as part of (e.g. during display).<br><br>A technically correct description would be &quot;Returns an integer representation of the first byte of a string, from 0 to 255. For single-byte encodings such as (7-bit) ASCII and the ISO 8859 family, this will correspond to the first character, and will be the position of that character in the encoding&apos;s mapping table. For multi-byte encodings, such as UTF-8 or UTF-16, the byte may not represent a complete character.&quot;<br><br>The link to asciitable.com should also be replaced by one which explains what character encoding it is displaying, as &quot;Extended ASCII&quot; is an ambiguous and misleading name.</span>
</div>
  

#


<div class="phpcode"><span class="html">
I did not found a unicode/multibyte capable &apos;ord&apos; function, so...
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">function </span><span class="default">uniord</span><span class="keyword">(</span><span class="default">$u</span><span class="keyword">) {
<br>&#xA0; &#xA0; </span><span class="default">$k </span><span class="keyword">= </span><span class="default">mb_convert_encoding</span><span class="keyword">(</span><span class="default">$u</span><span class="keyword">, </span><span class="string">&apos;UCS-2LE&apos;</span><span class="keyword">, </span><span class="string">&apos;UTF-8&apos;</span><span class="keyword">);
<br>&#xA0; &#xA0; </span><span class="default">$k1 </span><span class="keyword">= </span><span class="default">ord</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$k</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">));
<br>&#xA0; &#xA0; </span><span class="default">$k2 </span><span class="keyword">= </span><span class="default">ord</span><span class="keyword">(</span><span class="default">substr</span><span class="keyword">(</span><span class="default">$k</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">, </span><span class="default">1</span><span class="keyword">));
<br>&#xA0; &#xA0; return </span><span class="default">$k2 </span><span class="keyword">* </span><span class="default">256 </span><span class="keyword">+ </span><span class="default">$k1</span><span class="keyword">;
<br>}
<br></span><span class="default">?&gt;</span>
</span>
</div>
  

#

[Official documentation page](https://www.php.net/manual/en/function.ord.php)

**[To root](/README.md)**