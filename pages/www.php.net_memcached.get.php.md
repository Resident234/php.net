# Memcached::get




<div class="phpcode"><span class="html">
As of some version of php7 (i was not able to determine which exactly).<br>The $cas_token is no longer valid argument. It has been removed in favor of flags argument, as it appears to be causing issues when subclassing the Memcached class.<br><br>See <a href="https://github.com/php-memcached-dev/php-memcached/pull/214" rel="nofollow" target="_blank">https://github.com/php-memcached-dev/php-memcached/pull/214</a> for more details.<br><br>Basically you need to <br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">memcacheGet</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$cb </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">, &amp;</span><span class="default">$cas </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">) {<br>&#xA0; </span><span class="default">$m </span><span class="keyword">= </span><span class="default">memcacheGetObject</span><span class="keyword">();<br>&#xA0; if(empty(</span><span class="default">$m</span><span class="keyword">))<br>&#xA0; &#xA0; return </span><span class="default">false</span><span class="keyword">;<br>&#xA0; if(</span><span class="default">defined</span><span class="keyword">(</span><span class="string">&apos;Memcached::GET_EXTENDED&apos;</span><span class="keyword">)) {<br>&#xA0; &#xA0; </span><span class="comment">//Incompatible change in php7, took me 2 hours to figure this out, grrr<br>&#xA0; &#xA0; </span><span class="default">$_o </span><span class="keyword">= </span><span class="default">$m</span><span class="keyword">-&gt;</span><span class="default">get</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$cb</span><span class="keyword">, </span><span class="default">Memcached</span><span class="keyword">::</span><span class="default">GET_EXTENDED</span><span class="keyword">);<br>&#xA0; &#xA0; </span><span class="default">$o </span><span class="keyword">= </span><span class="default">$_o</span><span class="keyword">[</span><span class="string">&apos;value&apos;</span><span class="keyword">];<br>&#xA0; &#xA0; </span><span class="default">$cas </span><span class="keyword">= </span><span class="default">$_o</span><span class="keyword">[</span><span class="string">&apos;cas&apos;</span><span class="keyword">];<br>&#xA0; } else {<br>&#xA0; &#xA0; </span><span class="default">$o </span><span class="keyword">= </span><span class="default">$m</span><span class="keyword">-&gt;</span><span class="default">get</span><span class="keyword">(</span><span class="default">$key</span><span class="keyword">, </span><span class="default">$cb</span><span class="keyword">, </span><span class="default">$cas</span><span class="keyword">);<br>&#xA0; }<br>&#xA0; return </span><span class="default">$o</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;</span>
</span>
</div>
  

#


<div class="phpcode"><span class="html">
This method also returns false in case you set the value to false, so in order to have a proper fault mechanism in place you need to check the result code to be certain that a key really does not exist in memcached.<br><br><span class="default">&lt;?php<br>$Memcached </span><span class="keyword">= new </span><span class="default">Memcached</span><span class="keyword">();<br></span><span class="default">$Memcached</span><span class="keyword">-&gt;</span><span class="default">addServer</span><span class="keyword">(</span><span class="string">&apos;localhost&apos;</span><span class="keyword">, </span><span class="default">11211</span><span class="keyword">);<br></span><span class="default">$Memcached</span><span class="keyword">-&gt;</span><span class="default">set</span><span class="keyword">(</span><span class="string">&apos;key&apos;</span><span class="keyword">, </span><span class="default">false</span><span class="keyword">);<br></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$Memcached</span><span class="keyword">-&gt;</span><span class="default">get</span><span class="keyword">(</span><span class="string">&apos;key&apos;</span><span class="keyword">));&#xA0; &#xA0; &#xA0;&#xA0; </span><span class="comment">// boolean false<br></span><span class="default">var_dump</span><span class="keyword">(</span><span class="default">$Memcached</span><span class="keyword">-&gt;</span><span class="default">getResultCode</span><span class="keyword">());&#xA0; </span><span class="comment">// int 0 which is Memcached::RES_SUCCESS<br></span><span class="default">?&gt;<br></span><br>Or just make sure the values are not false :)</span>
</div>
  

#

[Official documentation page](https://www.php.net/manual/en/memcached.get.php)

**[To root](/README.md)**