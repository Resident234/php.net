# utf8_encode




<div class="phpcode"><span class="html">
Please note that utf8_encode only converts a string encoded in ISO-8859-1 to UTF-8. A more appropriate name for it would be &quot;iso88591_to_utf8&quot;. If your text is not encoded in&#xA0; ISO-8859-1, you do not need this function. If your text is already in UTF-8, you do not need this function. In fact, applying this function to text that is not encoded in ISO-8859-1 will most likely simply garble that text.<br><br>If you need to convert text from any encoding to any other encoding, look at iconv() instead.</span>
</div>
  

#


<div class="phpcode"><span class="html">
Walk through nested arrays/objects and utf8 encode all strings.<br><br><span class="default">&lt;?php<br></span><span class="comment">// Usage<br></span><span class="keyword">class </span><span class="default">Foo </span><span class="keyword">{<br>&#xA0; &#xA0; public </span><span class="default">$somevar </span><span class="keyword">= </span><span class="string">&apos;whoop whoop&apos;</span><span class="keyword">;<br>}<br><br></span><span class="default">$structure </span><span class="keyword">= array(<br>&#xA0; &#xA0; </span><span class="string">&apos;object&apos; </span><span class="keyword">=&gt; (object) array(<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="string">&apos;entry&apos; </span><span class="keyword">=&gt; </span><span class="string">&apos;hello w&#xF6;rld&apos;</span><span class="keyword">,<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="string">&apos;another_array&apos; </span><span class="keyword">=&gt; array(<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="string">&apos;string&apos;</span><span class="keyword">,<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">1234</span><span class="keyword">,<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="string">&apos;another string&apos;<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="keyword">)<br>&#xA0; &#xA0; ),<br>&#xA0; &#xA0; </span><span class="string">&apos;string&apos; </span><span class="keyword">=&gt; </span><span class="string">&apos;foo&apos;</span><span class="keyword">,<br>&#xA0; &#xA0; </span><span class="string">&apos;foo_object&apos; </span><span class="keyword">=&gt; new </span><span class="default">Foo<br></span><span class="keyword">);<br><br></span><span class="default">utf8_encode_deep</span><span class="keyword">(</span><span class="default">$structure</span><span class="keyword">);<br><br></span><span class="comment">// $structure is now utf8 encoded<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$structure</span><span class="keyword">);<br><br></span><span class="comment">// The function<br></span><span class="keyword">function </span><span class="default">utf8_encode_deep</span><span class="keyword">(&amp;</span><span class="default">$input</span><span class="keyword">) {<br>&#xA0; &#xA0; if (</span><span class="default">is_string</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">)) {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$input </span><span class="keyword">= </span><span class="default">utf8_encode</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">);<br>&#xA0; &#xA0; } else if (</span><span class="default">is_array</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">)) {<br>&#xA0; &#xA0; &#xA0; &#xA0; foreach (</span><span class="default">$input </span><span class="keyword">as &amp;</span><span class="default">$value</span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">utf8_encode_deep</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">);<br>&#xA0; &#xA0; &#xA0; &#xA0; }<br><br>&#xA0; &#xA0; &#xA0; &#xA0; unset(</span><span class="default">$value</span><span class="keyword">);<br>&#xA0; &#xA0; } else if (</span><span class="default">is_object</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">)) {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$vars </span><span class="keyword">= </span><span class="default">array_keys</span><span class="keyword">(</span><span class="default">get_object_vars</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">));<br><br>&#xA0; &#xA0; &#xA0; &#xA0; foreach (</span><span class="default">$vars </span><span class="keyword">as </span><span class="default">$var</span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">utf8_encode_deep</span><span class="keyword">(</span><span class="default">$input</span><span class="keyword">-&gt;</span><span class="default">$var</span><span class="keyword">);<br>&#xA0; &#xA0; &#xA0; &#xA0; }<br>&#xA0; &#xA0; }<br>}<br></span><span class="default">?&gt;</span>
</span>
</div>
  

#

[Official documentation page](https://www.php.net/manual/en/function.utf8-encode.php)

**[To root](/README.md)**