# openssl_private_decrypt




<div class="phpcode"><span class="html">
Encrypt using public key, decrypt using private key.<br><br>Use this to store stuff in your database: Unless someone<br>has your private key, the database contents are useless.<br><br>Also, use this for sending to a specific individual:&#xA0; Get<br>their public key, encrypt the message, only they can use<br>their private key to decode it.<br><br><span class="default">&lt;?php<br></span><span class="keyword">echo </span><span class="string">&quot;Source: </span><span class="default">$source</span><span class="string">&quot;</span><span class="keyword">;<br></span><span class="default">$fp</span><span class="keyword">=</span><span class="default">fopen</span><span class="keyword">(</span><span class="string">&quot;/path/to/certificate.crt&quot;</span><span class="keyword">,</span><span class="string">&quot;r&quot;</span><span class="keyword">);<br></span><span class="default">$pub_key</span><span class="keyword">=</span><span class="default">fread</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">,</span><span class="default">8192</span><span class="keyword">);<br></span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">);<br></span><span class="default">openssl_get_publickey</span><span class="keyword">(</span><span class="default">$pub_key</span><span class="keyword">);<br></span><span class="comment">/*<br> * NOTE:&#xA0; Here you use the $pub_key value (converted, I guess)<br> */<br></span><span class="default">openssl_public_encrypt</span><span class="keyword">(</span><span class="default">$source</span><span class="keyword">,</span><span class="default">$crypttext</span><span class="keyword">,</span><span class="default">$pub_key</span><span class="keyword">);<br>echo </span><span class="string">&quot;String crypted: </span><span class="default">$crypttext</span><span class="string">&quot;</span><span class="keyword">;<br><br></span><span class="default">$fp</span><span class="keyword">=</span><span class="default">fopen</span><span class="keyword">(</span><span class="string">&quot;/path/to/private.key&quot;</span><span class="keyword">,</span><span class="string">&quot;r&quot;</span><span class="keyword">);<br></span><span class="default">$priv_key</span><span class="keyword">=</span><span class="default">fread</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">,</span><span class="default">8192</span><span class="keyword">);<br></span><span class="default">fclose</span><span class="keyword">(</span><span class="default">$fp</span><span class="keyword">);<br></span><span class="comment">// $passphrase is required if your key is encoded (suggested)<br></span><span class="default">$res </span><span class="keyword">= </span><span class="default">openssl_get_privatekey</span><span class="keyword">(</span><span class="default">$priv_key</span><span class="keyword">,</span><span class="default">$passphrase</span><span class="keyword">);<br></span><span class="comment">/*<br> * NOTE:&#xA0; Here you use the returned resource value<br> */<br></span><span class="default">openssl_private_decrypt</span><span class="keyword">(</span><span class="default">$crypttext</span><span class="keyword">,</span><span class="default">$newsource</span><span class="keyword">,</span><span class="default">$res</span><span class="keyword">);<br>echo </span><span class="string">&quot;String decrypt : </span><span class="default">$newsource</span><span class="string">&quot;</span><span class="keyword">;<br></span><span class="default">?&gt;</span>
</span>
</div>
  

#

[Official documentation page](https://www.php.net/manual/en/function.openssl-private-decrypt.php)

**[To root](/README.md)**