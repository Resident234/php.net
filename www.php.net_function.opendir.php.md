# opendir




<div class="phpcode"><span class="html">
Sometimes the programmer needs to access folder content which has arabic name but the opendir function will return null resources id<br><br>for that we must convert the dirname charset from utf-8 to windows-1256 by the iconv function just if the preg_match function detect arabic characters and use &quot; U &quot; additionality to enable multibyte matching<br><br><span class="default">&lt;?php<br><br>$dir </span><span class="keyword">= (</span><span class="string">&quot;./&quot;</span><span class="keyword">); </span><span class="comment">// on this file dir<br>&#xA0; &#xA0; &#xA0; <br>// detect if the path has arabic characters and use &quot; u &quot;&#xA0; optional to enable function to match multibyte characters<br><br></span><span class="keyword">if (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">&apos;#[\x{0600}-\x{06FF}]#iu&apos;</span><span class="keyword">, </span><span class="default">$dir</span><span class="keyword">) )&#xA0; <br>{<br><br>&#xA0; &#xA0; </span><span class="comment">// convert input ( utf-8 ) to output ( windows-1256 ) <br>&#xA0; &#xA0; <br>&#xA0; &#xA0; </span><span class="default">$dir </span><span class="keyword">= </span><span class="default">iconv</span><span class="keyword">(</span><span class="string">&quot;utf-8&quot;</span><span class="keyword">,</span><span class="string">&quot;windows-1256&quot;</span><span class="keyword">,</span><span class="default">$dir</span><span class="keyword">);<br>&#xA0; &#xA0; <br>}<br><br> if( </span><span class="default">is_dir</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">) ) <br> {<br>&#xA0; &#xA0;&#xA0; <br>&#xA0; &#xA0;&#xA0; <br>&#xA0; &#xA0;&#xA0; if(&#xA0; ( </span><span class="default">$dh </span><span class="keyword">= </span><span class="default">opendir</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">) ) !== </span><span class="default">null&#xA0; </span><span class="keyword">) <br>&#xA0; &#xA0;&#xA0; {<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; &#xA0; &#xA0;&#xA0; <br>&#xA0; &#xA0; &#xA0; &#xA0;&#xA0; while ( ( </span><span class="default">$file </span><span class="keyword">= </span><span class="default">readdir</span><span class="keyword">(</span><span class="default">$dh</span><span class="keyword">) ) !== </span><span class="default">false&#xA0; </span><span class="keyword">) <br>&#xA0; &#xA0; &#xA0; &#xA0;&#xA0; {<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; <br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; <br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; echo </span><span class="string">&quot;filename: &quot;</span><span class="keyword">.</span><span class="default">$file </span><span class="keyword">.</span><span class="string">&quot; filetype : &quot;</span><span class="keyword">.</span><span class="default">filetype</span><span class="keyword">(</span><span class="default">$dir</span><span class="keyword">.</span><span class="default">$file</span><span class="keyword">).</span><span class="string">&quot;&lt;br/&gt;&quot;</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; <br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; <br>&#xA0; &#xA0; &#xA0; &#xA0;&#xA0; }<br>&#xA0; &#xA0; &#xA0; &#xA0; <br>&#xA0; &#xA0;&#xA0; }<br>&#xA0; &#xA0;&#xA0; <br>&#xA0; &#xA0;&#xA0; <br> }<br><br></span><span class="default">?&gt;</span>
</span>
</div>
  

#

[Official documentation page](https://www.php.net/manual/en/function.opendir.php)

**[â¬† to root](/)**