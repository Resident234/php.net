# get_browser




<div class="phpcode"><span class="html">
As of PHP 7.0.15 and 7.1.1 and higher, get_browser() now performs much better - reportedly 100x faster.&#xA0; The Changelog, bug description, and solution are here:<br><br><a href="http://php.net/ChangeLog-7.php" rel="nofollow" target="_blank">http://php.net/ChangeLog-7.php</a> (search for get_browser())<br><a href="https://bugs.php.net/bug.php?id=70490" rel="nofollow" target="_blank">https://bugs.php.net/bug.php?id=70490</a><br><a href="https://github.com/php/php-src/pull/2242" rel="nofollow" target="_blank">https://github.com/php/php-src/pull/2242</a></span>
</div>
  

#


<div class="phpcode"><span class="html">
This function is too slow for todays needs.<br><br>If you need browser / device / operating system detection, please try one of listed packages here: <a href="https://github.com/ThaDafinser/UserAgentParser" rel="nofollow" target="_blank">https://github.com/ThaDafinser/UserAgentParser</a></span>
</div>
  

#


<div class="phpcode"><span class="html">
Follow up to Francesco R&apos;s post from 2016.<br><br>His function works for most human traffic; added a few lines to cover the most common bot traffic. Also fixed issue with function failing to detect strings at position 0 due to strpos behavior.<br><br><span class="default">&lt;?php<br></span><span class="comment">// Function written and tested December, 2018<br></span><span class="keyword">function </span><span class="default">get_browser_name</span><span class="keyword">(</span><span class="default">$user_agent</span><span class="keyword">)<br>{<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="comment">// Make case insensitive.<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$t </span><span class="keyword">= </span><span class="default">strtolower</span><span class="keyword">(</span><span class="default">$user_agent</span><span class="keyword">);<br><br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="comment">// If the string *starts* with the string, strpos returns 0 (i.e., FALSE). Do a ghetto hack and start with a space.<br>&#xA0; &#xA0; &#xA0; &#xA0; // &quot;[strpos()] may return Boolean FALSE, but may also return a non-Boolean value which evaluates to FALSE.&quot;<br>&#xA0; &#xA0; &#xA0; &#xA0; //&#xA0; &#xA0;&#xA0; <a href="http://php.net/manual/en/function.strpos.php" rel="nofollow" target="_blank">http://php.net/manual/en/function.strpos.php</a><br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$t </span><span class="keyword">= </span><span class="string">&quot; &quot; </span><span class="keyword">. </span><span class="default">$t</span><span class="keyword">;<br><br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="comment">// Humans / Regular Users&#xA0; &#xA0; &#xA0; <br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="keyword">if&#xA0; &#xA0;&#xA0; (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;opera&apos;&#xA0; &#xA0;&#xA0; </span><span class="keyword">) || </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;opr/&apos;</span><span class="keyword">)&#xA0; &#xA0;&#xA0; ) return </span><span class="string">&apos;Opera&apos;&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;edge&apos;&#xA0; &#xA0; &#xA0; </span><span class="keyword">)&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; ) return </span><span class="string">&apos;Edge&apos;&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; </span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;chrome&apos;&#xA0; &#xA0; </span><span class="keyword">)&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; ) return </span><span class="string">&apos;Chrome&apos;&#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; </span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;safari&apos;&#xA0; &#xA0; </span><span class="keyword">)&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; ) return </span><span class="string">&apos;Safari&apos;&#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; </span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;firefox&apos;&#xA0;&#xA0; </span><span class="keyword">)&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; ) return </span><span class="string">&apos;Firefox&apos;&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;msie&apos;&#xA0; &#xA0; &#xA0; </span><span class="keyword">) || </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;trident/7&apos;</span><span class="keyword">)) return </span><span class="string">&apos;Internet Explorer&apos;</span><span class="keyword">;<br><br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="comment">// Search Engines&#xA0; <br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="keyword">elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;google&apos;&#xA0; &#xA0; </span><span class="keyword">)&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; ) return </span><span class="string">&apos;[Bot] Googlebot&apos;&#xA0;&#xA0; </span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;bing&apos;&#xA0; &#xA0; &#xA0; </span><span class="keyword">)&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; ) return </span><span class="string">&apos;[Bot] Bingbot&apos;&#xA0; &#xA0;&#xA0; </span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;slurp&apos;&#xA0; &#xA0;&#xA0; </span><span class="keyword">)&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; ) return </span><span class="string">&apos;[Bot] Yahoo! Slurp&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;duckduckgo&apos;</span><span class="keyword">)&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; ) return </span><span class="string">&apos;[Bot] DuckDuckBot&apos; </span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;baidu&apos;&#xA0; &#xA0;&#xA0; </span><span class="keyword">)&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; ) return </span><span class="string">&apos;[Bot] Baidu&apos;&#xA0; &#xA0; &#xA0;&#xA0; </span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;yandex&apos;&#xA0; &#xA0; </span><span class="keyword">)&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; ) return </span><span class="string">&apos;[Bot] Yandex&apos;&#xA0; &#xA0; &#xA0; </span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;sogou&apos;&#xA0; &#xA0;&#xA0; </span><span class="keyword">)&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; ) return </span><span class="string">&apos;[Bot] Sogou&apos;&#xA0; &#xA0; &#xA0;&#xA0; </span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;exabot&apos;&#xA0; &#xA0; </span><span class="keyword">)&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; ) return </span><span class="string">&apos;[Bot] Exabot&apos;&#xA0; &#xA0; &#xA0; </span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;msn&apos;&#xA0; &#xA0; &#xA0;&#xA0; </span><span class="keyword">)&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; ) return </span><span class="string">&apos;[Bot] MSN&apos;&#xA0; &#xA0; &#xA0; &#xA0;&#xA0; </span><span class="keyword">;<br><br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="comment">// Common Tools and Bots<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="keyword">elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;mj12bot&apos;&#xA0;&#xA0; </span><span class="keyword">)&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; ) return </span><span class="string">&apos;[Bot] Majestic&apos;&#xA0; &#xA0;&#xA0; </span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;ahrefs&apos;&#xA0; &#xA0; </span><span class="keyword">)&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; ) return </span><span class="string">&apos;[Bot] Ahrefs&apos;&#xA0; &#xA0; &#xA0;&#xA0; </span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;semrush&apos;&#xA0;&#xA0; </span><span class="keyword">)&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; ) return </span><span class="string">&apos;[Bot] SEMRush&apos;&#xA0; &#xA0; &#xA0; </span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;rogerbot&apos;&#xA0; </span><span class="keyword">) || </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;dotbot&apos;</span><span class="keyword">)&#xA0;&#xA0; ) return </span><span class="string">&apos;[Bot] Moz or OpenSiteExplorer&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;frog&apos;&#xA0; &#xA0; &#xA0; </span><span class="keyword">) || </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;screaming&apos;</span><span class="keyword">)) return </span><span class="string">&apos;[Bot] Screaming Frog&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; <br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="comment">// Miscellaneous <br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="keyword">elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;facebook&apos;&#xA0; </span><span class="keyword">)&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; ) return </span><span class="string">&apos;[Bot] Facebook&apos;&#xA0; &#xA0;&#xA0; </span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;pinterest&apos; </span><span class="keyword">)&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; ) return </span><span class="string">&apos;[Bot] Pinterest&apos;&#xA0; &#xA0; </span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; <br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="comment">// Check for strings commonly used in bot user agents&#xA0;&#xA0; <br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="keyword">elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;crawler&apos; </span><span class="keyword">) || </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;api&apos;&#xA0; &#xA0; </span><span class="keyword">) ||<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;spider&apos;&#xA0; </span><span class="keyword">) || </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;http&apos;&#xA0;&#xA0; </span><span class="keyword">) ||<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;bot&apos;&#xA0; &#xA0;&#xA0; </span><span class="keyword">) || </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;archive&apos;</span><span class="keyword">) || <br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;info&apos;&#xA0; &#xA0; </span><span class="keyword">) || </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$t</span><span class="keyword">, </span><span class="string">&apos;data&apos;&#xA0;&#xA0; </span><span class="keyword">)&#xA0; &#xA0; ) return </span><span class="string">&apos;[Bot] Other&apos;&#xA0;&#xA0; </span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; <br>&#xA0; &#xA0; &#xA0; &#xA0; return </span><span class="string">&apos;Other (Unknown)&apos;</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;<br></span>Post with more depth here:<br><a href="https://www.256kilobytes.com/content/show/1922/how-to-parse-a-user-agent-in-php-with-minimal-effort" rel="nofollow" target="_blank">https://www.256kilobytes.com/content/show/1922/how-to-parse-a-user-agent-in-php-with-minimal-effort</a></span>
</div>
  

#


<div class="phpcode"><span class="html">
Since browser detection can be tricky and very slow, I compared a few packages.<br><br><a href="http://thadafinser.github.io/UserAgentParserComparison/v5/index.html" rel="nofollow" target="_blank">http://thadafinser.github.io/UserAgentParserComparison/v5/index.html</a><br><br><a href="https://github.com/sinergi/php-browser-detector" rel="nofollow" target="_blank">https://github.com/sinergi/php-browser-detector</a><br><a href="https://github.com/WhichBrowser/Parser-PHP" rel="nofollow" target="_blank">https://github.com/WhichBrowser/Parser-PHP</a><br><a href="https://github.com/piwik/device-detector" rel="nofollow" target="_blank">https://github.com/piwik/device-detector</a><br><a href="http://php.net/manual/en/function.get-browser.php" rel="nofollow" target="_blank">http://php.net/manual/en/function.get-browser.php</a><br><br>Here are the results:<br><br>User Agent: <br>Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.84 Safari/537.36<br><br>Sinergi Package<br>---------------<br>Chrome 63.0.3239.84 on Windows 10.0<br>Took 0.0022480487823486 seconds.<br>---------------<br><br>WhichBrowser Package<br>---------------<br>Chrome 63 on Windows 10<br>Took 0.021045207977295 seconds.<br>---------------<br><br>Piwik Package<br>---------------<br>Chrome 63.0 on Windows 10<br>Took 0.079447031021118 seconds.<br>---------------<br><br>get_browser Package<br>---------------<br>Chrome 63.0 on Windows 10<br>Took 0.09611701965332 seconds.<br>---------------<br><br>User Agent: <br>Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:57.0) Gecko/20100101 Firefox/57.0<br><br>Sinergi Package<br>---------------<br>Firefox 57.0 on Windows 10.0<br>Took 0.0023159980773926 seconds.<br>---------------<br><br>WhichBrowser Package<br>---------------<br>Firefox 57.0 on Windows 10<br>Took 0.019663095474243 seconds.<br>---------------<br><br>Piwik Package<br>---------------<br>Firefox 57.0 on Windows 10<br>Took 0.079678058624268 seconds.<br>---------------<br><br>get_browser Package<br>---------------<br>Firefox 57.0 on Windows 10<br>Took 0.02236008644104 seconds.<br>---------------<br><br>The consistent winner (by speed, not necessarily coverage) by far is:<br><a href="https://github.com/sinergi/php-browser-detector" rel="nofollow" target="_blank">https://github.com/sinergi/php-browser-detector</a></span>
</div>
  

#


<div class="phpcode"><span class="html">
To my surprise I found that none of the get_browser alternatives output the correct name / version combination that I was looking for using Opera or Chrome. They either give the wrong name eg Safari when in fact it should be Chrome and if the ua string includes a version number as with the latest versions of Chrome and Opera the wrong number is reported. So I took bits and pieces from the various examples and combined them and added a check for version. <br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">getBrowser</span><span class="keyword">() <br>{ <br>&#xA0; &#xA0; </span><span class="default">$u_agent </span><span class="keyword">= </span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">&apos;HTTP_USER_AGENT&apos;</span><span class="keyword">]; <br>&#xA0; &#xA0; </span><span class="default">$bname </span><span class="keyword">= </span><span class="string">&apos;Unknown&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; </span><span class="default">$platform </span><span class="keyword">= </span><span class="string">&apos;Unknown&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; </span><span class="default">$version</span><span class="keyword">= </span><span class="string">&quot;&quot;</span><span class="keyword">;<br><br>&#xA0; &#xA0; </span><span class="comment">//First get the platform?<br>&#xA0; &#xA0; </span><span class="keyword">if (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">&apos;/linux/i&apos;</span><span class="keyword">, </span><span class="default">$u_agent</span><span class="keyword">)) {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$platform </span><span class="keyword">= </span><span class="string">&apos;linux&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; elseif (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">&apos;/macintosh|mac os x/i&apos;</span><span class="keyword">, </span><span class="default">$u_agent</span><span class="keyword">)) {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$platform </span><span class="keyword">= </span><span class="string">&apos;mac&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; elseif (</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">&apos;/windows|win32/i&apos;</span><span class="keyword">, </span><span class="default">$u_agent</span><span class="keyword">)) {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$platform </span><span class="keyword">= </span><span class="string">&apos;windows&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; </span><span class="comment">// Next get the name of the useragent yes seperately and for good reason<br>&#xA0; &#xA0; </span><span class="keyword">if(</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">&apos;/MSIE/i&apos;</span><span class="keyword">,</span><span class="default">$u_agent</span><span class="keyword">) &amp;&amp; !</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">&apos;/Opera/i&apos;</span><span class="keyword">,</span><span class="default">$u_agent</span><span class="keyword">)) <br>&#xA0; &#xA0; { <br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$bname </span><span class="keyword">= </span><span class="string">&apos;Internet Explorer&apos;</span><span class="keyword">; <br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$ub </span><span class="keyword">= </span><span class="string">&quot;MSIE&quot;</span><span class="keyword">; <br>&#xA0; &#xA0; } <br>&#xA0; &#xA0; elseif(</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">&apos;/Firefox/i&apos;</span><span class="keyword">,</span><span class="default">$u_agent</span><span class="keyword">)) <br>&#xA0; &#xA0; { <br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$bname </span><span class="keyword">= </span><span class="string">&apos;Mozilla Firefox&apos;</span><span class="keyword">; <br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$ub </span><span class="keyword">= </span><span class="string">&quot;Firefox&quot;</span><span class="keyword">; <br>&#xA0; &#xA0; } <br>&#xA0; &#xA0; elseif(</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">&apos;/Chrome/i&apos;</span><span class="keyword">,</span><span class="default">$u_agent</span><span class="keyword">)) <br>&#xA0; &#xA0; { <br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$bname </span><span class="keyword">= </span><span class="string">&apos;Google Chrome&apos;</span><span class="keyword">; <br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$ub </span><span class="keyword">= </span><span class="string">&quot;Chrome&quot;</span><span class="keyword">; <br>&#xA0; &#xA0; } <br>&#xA0; &#xA0; elseif(</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">&apos;/Safari/i&apos;</span><span class="keyword">,</span><span class="default">$u_agent</span><span class="keyword">)) <br>&#xA0; &#xA0; { <br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$bname </span><span class="keyword">= </span><span class="string">&apos;Apple Safari&apos;</span><span class="keyword">; <br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$ub </span><span class="keyword">= </span><span class="string">&quot;Safari&quot;</span><span class="keyword">; <br>&#xA0; &#xA0; } <br>&#xA0; &#xA0; elseif(</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">&apos;/Opera/i&apos;</span><span class="keyword">,</span><span class="default">$u_agent</span><span class="keyword">)) <br>&#xA0; &#xA0; { <br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$bname </span><span class="keyword">= </span><span class="string">&apos;Opera&apos;</span><span class="keyword">; <br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$ub </span><span class="keyword">= </span><span class="string">&quot;Opera&quot;</span><span class="keyword">; <br>&#xA0; &#xA0; } <br>&#xA0; &#xA0; elseif(</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">&apos;/Netscape/i&apos;</span><span class="keyword">,</span><span class="default">$u_agent</span><span class="keyword">)) <br>&#xA0; &#xA0; { <br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$bname </span><span class="keyword">= </span><span class="string">&apos;Netscape&apos;</span><span class="keyword">; <br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$ub </span><span class="keyword">= </span><span class="string">&quot;Netscape&quot;</span><span class="keyword">; <br>&#xA0; &#xA0; } <br>&#xA0; &#xA0; <br>&#xA0; &#xA0; </span><span class="comment">// finally get the correct version number<br>&#xA0; &#xA0; </span><span class="default">$known </span><span class="keyword">= array(</span><span class="string">&apos;Version&apos;</span><span class="keyword">, </span><span class="default">$ub</span><span class="keyword">, </span><span class="string">&apos;other&apos;</span><span class="keyword">);<br>&#xA0; &#xA0; </span><span class="default">$pattern </span><span class="keyword">= </span><span class="string">&apos;#(?&lt;browser&gt;&apos; </span><span class="keyword">. </span><span class="default">join</span><span class="keyword">(</span><span class="string">&apos;|&apos;</span><span class="keyword">, </span><span class="default">$known</span><span class="keyword">) .<br>&#xA0; &#xA0; </span><span class="string">&apos;)[/ ]+(?&lt;version&gt;[0-9.|a-zA-Z.]*)#&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; if (!</span><span class="default">preg_match_all</span><span class="keyword">(</span><span class="default">$pattern</span><span class="keyword">, </span><span class="default">$u_agent</span><span class="keyword">, </span><span class="default">$matches</span><span class="keyword">)) {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="comment">// we have no matching number just continue<br>&#xA0; &#xA0; </span><span class="keyword">}<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; </span><span class="comment">// see how many we have<br>&#xA0; &#xA0; </span><span class="default">$i </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$matches</span><span class="keyword">[</span><span class="string">&apos;browser&apos;</span><span class="keyword">]);<br>&#xA0; &#xA0; if (</span><span class="default">$i </span><span class="keyword">!= </span><span class="default">1</span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="comment">//we will have two since we are not using &apos;other&apos; argument yet<br>&#xA0; &#xA0; &#xA0; &#xA0; //see if version is before or after the name<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="keyword">if (</span><span class="default">strripos</span><span class="keyword">(</span><span class="default">$u_agent</span><span class="keyword">,</span><span class="string">&quot;Version&quot;</span><span class="keyword">) &lt; </span><span class="default">strripos</span><span class="keyword">(</span><span class="default">$u_agent</span><span class="keyword">,</span><span class="default">$ub</span><span class="keyword">)){<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$version</span><span class="keyword">= </span><span class="default">$matches</span><span class="keyword">[</span><span class="string">&apos;version&apos;</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">];<br>&#xA0; &#xA0; &#xA0; &#xA0; }<br>&#xA0; &#xA0; &#xA0; &#xA0; else {<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$version</span><span class="keyword">= </span><span class="default">$matches</span><span class="keyword">[</span><span class="string">&apos;version&apos;</span><span class="keyword">][</span><span class="default">1</span><span class="keyword">];<br>&#xA0; &#xA0; &#xA0; &#xA0; }<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; else {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$version</span><span class="keyword">= </span><span class="default">$matches</span><span class="keyword">[</span><span class="string">&apos;version&apos;</span><span class="keyword">][</span><span class="default">0</span><span class="keyword">];<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; </span><span class="comment">// check if we have a number<br>&#xA0; &#xA0; </span><span class="keyword">if (</span><span class="default">$version</span><span class="keyword">==</span><span class="default">null </span><span class="keyword">|| </span><span class="default">$version</span><span class="keyword">==</span><span class="string">&quot;&quot;</span><span class="keyword">) {</span><span class="default">$version</span><span class="keyword">=</span><span class="string">&quot;?&quot;</span><span class="keyword">;}<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; return array(<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="string">&apos;userAgent&apos; </span><span class="keyword">=&gt; </span><span class="default">$u_agent</span><span class="keyword">,<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="string">&apos;name&apos;&#xA0; &#xA0; &#xA0; </span><span class="keyword">=&gt; </span><span class="default">$bname</span><span class="keyword">,<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="string">&apos;version&apos;&#xA0;&#xA0; </span><span class="keyword">=&gt; </span><span class="default">$version</span><span class="keyword">,<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="string">&apos;platform&apos;&#xA0; </span><span class="keyword">=&gt; </span><span class="default">$platform</span><span class="keyword">,<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="string">&apos;pattern&apos;&#xA0; &#xA0; </span><span class="keyword">=&gt; </span><span class="default">$pattern<br>&#xA0; &#xA0; </span><span class="keyword">);<br>} <br><br></span><span class="comment">// now try it<br></span><span class="default">$ua</span><span class="keyword">=</span><span class="default">getBrowser</span><span class="keyword">();<br></span><span class="default">$yourbrowser</span><span class="keyword">= </span><span class="string">&quot;Your browser: &quot; </span><span class="keyword">. </span><span class="default">$ua</span><span class="keyword">[</span><span class="string">&apos;name&apos;</span><span class="keyword">] . </span><span class="string">&quot; &quot; </span><span class="keyword">. </span><span class="default">$ua</span><span class="keyword">[</span><span class="string">&apos;version&apos;</span><span class="keyword">] . </span><span class="string">&quot; on &quot; </span><span class="keyword">.</span><span class="default">$ua</span><span class="keyword">[</span><span class="string">&apos;platform&apos;</span><span class="keyword">] . </span><span class="string">&quot; reports: &lt;br &gt;&quot; </span><span class="keyword">. </span><span class="default">$ua</span><span class="keyword">[</span><span class="string">&apos;userAgent&apos;</span><span class="keyword">];<br></span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$yourbrowser</span><span class="keyword">);<br></span><span class="default">?&gt;</span>
</span>
</div>
  

#


<div class="phpcode"><span class="html">
If you ONLY need a very fast and simple function to detect the browser name (update to May 2016):<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">get_browser_name</span><span class="keyword">(</span><span class="default">$user_agent</span><span class="keyword">)<br>{<br>&#xA0; &#xA0; if (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$user_agent</span><span class="keyword">, </span><span class="string">&apos;Opera&apos;</span><span class="keyword">) || </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$user_agent</span><span class="keyword">, </span><span class="string">&apos;OPR/&apos;</span><span class="keyword">)) return </span><span class="string">&apos;Opera&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$user_agent</span><span class="keyword">, </span><span class="string">&apos;Edge&apos;</span><span class="keyword">)) return </span><span class="string">&apos;Edge&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$user_agent</span><span class="keyword">, </span><span class="string">&apos;Chrome&apos;</span><span class="keyword">)) return </span><span class="string">&apos;Chrome&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$user_agent</span><span class="keyword">, </span><span class="string">&apos;Safari&apos;</span><span class="keyword">)) return </span><span class="string">&apos;Safari&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$user_agent</span><span class="keyword">, </span><span class="string">&apos;Firefox&apos;</span><span class="keyword">)) return </span><span class="string">&apos;Firefox&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; elseif (</span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$user_agent</span><span class="keyword">, </span><span class="string">&apos;MSIE&apos;</span><span class="keyword">) || </span><span class="default">strpos</span><span class="keyword">(</span><span class="default">$user_agent</span><span class="keyword">, </span><span class="string">&apos;Trident/7&apos;</span><span class="keyword">)) return </span><span class="string">&apos;Internet Explorer&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; return </span><span class="string">&apos;Other&apos;</span><span class="keyword">;<br>}<br><br></span><span class="comment">// Usage:<br><br></span><span class="keyword">echo </span><span class="default">get_browser_name</span><span class="keyword">(</span><span class="default">$_SERVER</span><span class="keyword">[</span><span class="string">&apos;HTTP_USER_AGENT&apos;</span><span class="keyword">]);<br><br></span><span class="default">?&gt;<br></span><br>This function also resolves the trouble with Edge (that contains in the user agent the string &quot;Safari&quot; and &quot;Chrome&quot;), with Chrome (contains the string &quot;Safari&quot;) and IE11 (that do not contains &apos;MSIE&apos; like all other IE versions).<br><br>Note that &quot;strpos&quot; is the fastest function to check a string (far better than &quot;preg_match&quot;) and Opera + Edge + Chrome + Safari + Firefox + Internet Explorer are the most used browsers today (over 97%).</span>
</div>
  

#


<div class="phpcode"><span class="html">
Good news! The latest version of PHP has a performance fix for this function. It&apos;s reportedly now 100x faster. See the ChangeLog for specifics.</span>
</div>
  

#

[Official documentation page](https://www.php.net/manual/en/function.get-browser.php)

**[To root](/README.md)**