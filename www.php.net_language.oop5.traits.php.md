# Traits




<div class="phpcode"><span class="html">
Unlike inheritance; if a trait has static properties, each class using that trait has independent instances of those properties.<br><br>Example using parent class:<br><span class="default">&lt;?php<br></span><span class="keyword">class </span><span class="default">TestClass </span><span class="keyword">{<br>&#xA0; &#xA0; public static </span><span class="default">$_bar</span><span class="keyword">;<br>}<br>class </span><span class="default">Foo1 </span><span class="keyword">extends </span><span class="default">TestClass </span><span class="keyword">{ }<br>class </span><span class="default">Foo2 </span><span class="keyword">extends </span><span class="default">TestClass </span><span class="keyword">{ }<br></span><span class="default">Foo1</span><span class="keyword">::</span><span class="default">$_bar </span><span class="keyword">= </span><span class="string">&apos;Hello&apos;</span><span class="keyword">;<br></span><span class="default">Foo2</span><span class="keyword">::</span><span class="default">$_bar </span><span class="keyword">= </span><span class="string">&apos;World&apos;</span><span class="keyword">;<br>echo </span><span class="default">Foo1</span><span class="keyword">::</span><span class="default">$_bar </span><span class="keyword">. </span><span class="string">&apos; &apos; </span><span class="keyword">. </span><span class="default">Foo2</span><span class="keyword">::</span><span class="default">$_bar</span><span class="keyword">; </span><span class="comment">// Prints: World World<br></span><span class="default">?&gt;<br></span><br>Example using trait:<br><span class="default">&lt;?php<br></span><span class="keyword">trait </span><span class="default">TestTrait </span><span class="keyword">{<br>&#xA0; &#xA0; public static </span><span class="default">$_bar</span><span class="keyword">;<br>}<br>class </span><span class="default">Foo1 </span><span class="keyword">{<br>&#xA0; &#xA0; use </span><span class="default">TestTrait</span><span class="keyword">;<br>}<br>class </span><span class="default">Foo2 </span><span class="keyword">{<br>&#xA0; &#xA0; use </span><span class="default">TestTrait</span><span class="keyword">;<br>}<br></span><span class="default">Foo1</span><span class="keyword">::</span><span class="default">$_bar </span><span class="keyword">= </span><span class="string">&apos;Hello&apos;</span><span class="keyword">;<br></span><span class="default">Foo2</span><span class="keyword">::</span><span class="default">$_bar </span><span class="keyword">= </span><span class="string">&apos;World&apos;</span><span class="keyword">;<br>echo </span><span class="default">Foo1</span><span class="keyword">::</span><span class="default">$_bar </span><span class="keyword">. </span><span class="string">&apos; &apos; </span><span class="keyword">. </span><span class="default">Foo2</span><span class="keyword">::</span><span class="default">$_bar</span><span class="keyword">; </span><span class="comment">// Prints: Hello World<br></span><span class="default">?&gt;</span>
</span>
</div>
  

#


<div class="phpcode"><span class="html">
The best way to understand what traits are and how to use them is to look at them for what they essentially are:&#xA0; language assisted copy and paste.<br><br>If you can copy and paste the code from one class to another (and we&apos;ve all done this, even though we try not to because its code duplication) then you have a candidate for a trait.</span>
</div>
  

#


<div class="phpcode"><span class="html">
Note that the &quot;use&quot; operator for traits (inside a class) and the &quot;use&quot; operator for namespaces (outside the class) resolve names differently. &quot;use&quot; for namespaces always sees its arguments as absolute (starting at the global namespace):<br><br><span class="default">&lt;?php<br></span><span class="keyword">namespace </span><span class="default">Foo</span><span class="keyword">\</span><span class="default">Bar</span><span class="keyword">;<br>use </span><span class="default">Foo</span><span class="keyword">\</span><span class="default">Test</span><span class="keyword">;&#xA0; </span><span class="comment">// means \Foo\Test - the initial \ is optional<br></span><span class="default">?&gt;<br></span><br>On the other hand, &quot;use&quot; for traits respects the current namespace:<br><br><span class="default">&lt;?php<br></span><span class="keyword">namespace </span><span class="default">Foo</span><span class="keyword">\</span><span class="default">Bar</span><span class="keyword">;<br>class </span><span class="default">SomeClass </span><span class="keyword">{<br>&#xA0; &#xA0; use </span><span class="default">Foo</span><span class="keyword">\</span><span class="default">Test</span><span class="keyword">;&#xA0;&#xA0; </span><span class="comment">// means \Foo\Bar\Foo\Test<br></span><span class="keyword">}<br></span><span class="default">?&gt;<br></span><br>Together with &quot;use&quot; for closures, there are now three different &quot;use&quot; operators. They all mean different things and behave differently.</span>
</div>
  

#


<div class="phpcode"><span class="html">
It may be worth noting here that the magic constant __CLASS__ becomes even more magical - __CLASS__ will return the name of the class in which the trait is being used.<br><br>for example<br><br><span class="default">&lt;?php<br></span><span class="keyword">trait </span><span class="default">sayWhere </span><span class="keyword">{<br>&#xA0; &#xA0; public function </span><span class="default">whereAmI</span><span class="keyword">() {<br>&#xA0; &#xA0; &#xA0; &#xA0; echo </span><span class="default">__CLASS__</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>}<br><br>class </span><span class="default">Hello </span><span class="keyword">{<br>&#xA0; &#xA0; use </span><span class="default">sayWHere</span><span class="keyword">;<br>}<br><br>class </span><span class="default">World </span><span class="keyword">{<br>&#xA0; &#xA0; use </span><span class="default">sayWHere</span><span class="keyword">;<br>}<br><br></span><span class="default">$a </span><span class="keyword">= new </span><span class="default">Hello</span><span class="keyword">;<br></span><span class="default">$a</span><span class="keyword">-&gt;</span><span class="default">whereAmI</span><span class="keyword">(); </span><span class="comment">//Hello<br><br></span><span class="default">$b </span><span class="keyword">= new </span><span class="default">World</span><span class="keyword">;<br></span><span class="default">$b</span><span class="keyword">-&gt;</span><span class="default">whereAmI</span><span class="keyword">(); </span><span class="comment">//World<br></span><span class="default">?&gt;<br></span><br>The magic constant __TRAIT__ will giev you the name of the trait</span>
</div>
  

#


<div class="phpcode"><span class="html">
add to &quot;chris dot rutledge at gmail dot com&quot;:<br>__CLASS__ will return the name of the class in which the trait is being used (!) not the class in which trait method is being called:<br><br><span class="default">&lt;?php<br></span><span class="keyword">trait </span><span class="default">TestTrait </span><span class="keyword">{<br>&#xA0; &#xA0; public function </span><span class="default">testMethod</span><span class="keyword">() {<br>&#xA0; &#xA0; &#xA0; &#xA0; echo </span><span class="string">&quot;Class: &quot; </span><span class="keyword">. </span><span class="default">__CLASS__ </span><span class="keyword">. </span><span class="default">PHP_EOL</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; echo </span><span class="string">&quot;Trait: &quot; </span><span class="keyword">. </span><span class="default">__TRAIT__ </span><span class="keyword">. </span><span class="default">PHP_EOL</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>}<br><br>class </span><span class="default">BaseClass </span><span class="keyword">{<br>&#xA0; &#xA0; use </span><span class="default">TestTrait</span><span class="keyword">;<br>}<br><br>class </span><span class="default">TestClass </span><span class="keyword">extends </span><span class="default">BaseClass </span><span class="keyword">{<br><br>}<br><br></span><span class="default">$t </span><span class="keyword">= new </span><span class="default">TestClass</span><span class="keyword">();<br></span><span class="default">$t</span><span class="keyword">-&gt;</span><span class="default">testMethod</span><span class="keyword">();<br><br></span><span class="comment">//Class: BaseClass<br>//Trait: TestTrait</span>
</span>
</div>
  

#


<div class="phpcode"><span class="html">
Keep in mind; &quot;final&quot; keyword is useless in traits when directly using them, unlike extending classes / abstract classes.<br><br><span class="default">&lt;?php<br></span><span class="keyword">trait </span><span class="default">Foo </span><span class="keyword">{<br>&#xA0; &#xA0; final public function </span><span class="default">hello</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">) { print </span><span class="string">&quot;</span><span class="default">$s</span><span class="string">, hello!&quot;</span><span class="keyword">; }<br>}<br>class </span><span class="default">Bar </span><span class="keyword">{<br>&#xA0; &#xA0; use </span><span class="default">Foo</span><span class="keyword">;<br>&#xA0; &#xA0; </span><span class="comment">// Overwrite, no error<br>&#xA0; &#xA0; </span><span class="keyword">final public function </span><span class="default">hello</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">) { print </span><span class="string">&quot;hello, </span><span class="default">$s</span><span class="string">!&quot;</span><span class="keyword">; }<br>}<br><br>abstract class </span><span class="default">Foo </span><span class="keyword">{<br>&#xA0; &#xA0; final public function </span><span class="default">hello</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">) { print </span><span class="string">&quot;</span><span class="default">$s</span><span class="string">, hello!&quot;</span><span class="keyword">; }<br>}<br>class </span><span class="default">Bar </span><span class="keyword">extends </span><span class="default">Foo </span><span class="keyword">{<br>&#xA0; &#xA0; </span><span class="comment">// Fatal error: Cannot override final method Foo::hello() in ..<br>&#xA0; &#xA0; </span><span class="keyword">final public function </span><span class="default">hello</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">) { print </span><span class="string">&quot;hello, </span><span class="default">$s</span><span class="string">!&quot;</span><span class="keyword">; }<br>}<br></span><span class="default">?&gt;<br></span><br>But this way will finalize trait methods as expected;<br><br><span class="default">&lt;?php<br></span><span class="keyword">trait </span><span class="default">FooTrait </span><span class="keyword">{<br>&#xA0; &#xA0; final public function </span><span class="default">hello</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">) { print </span><span class="string">&quot;</span><span class="default">$s</span><span class="string">, hello!&quot;</span><span class="keyword">; }<br>}<br>abstract class </span><span class="default">Foo </span><span class="keyword">{<br>&#xA0; &#xA0; use </span><span class="default">FooTrait</span><span class="keyword">;<br>}<br>class </span><span class="default">Bar </span><span class="keyword">extends </span><span class="default">Foo </span><span class="keyword">{<br>&#xA0; &#xA0; </span><span class="comment">// Fatal error: Cannot override final method Foo::hello() in ..<br>&#xA0; &#xA0; </span><span class="keyword">final public function </span><span class="default">hello</span><span class="keyword">(</span><span class="default">$s</span><span class="keyword">) { print </span><span class="string">&quot;hello, </span><span class="default">$s</span><span class="string">!&quot;</span><span class="keyword">; }<br>}<br></span><span class="default">?&gt;</span>
</span>
</div>
  

#


<div class="phpcode"><span class="html">
Another difference with traits vs inheritance is that methods defined in traits can access methods and properties of the class they&apos;re used in, including private ones.<br><br>For example:<br><span class="default">&lt;?php<br></span><span class="keyword">trait </span><span class="default">MyTrait<br></span><span class="keyword">{<br>&#xA0; protected function </span><span class="default">accessVar</span><span class="keyword">()<br>&#xA0; {<br>&#xA0; &#xA0; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">var</span><span class="keyword">;<br>&#xA0; }<br><br>}<br><br>class </span><span class="default">TraitUser<br></span><span class="keyword">{<br>&#xA0; use </span><span class="default">MyTrait</span><span class="keyword">;<br><br>&#xA0; private </span><span class="default">$var </span><span class="keyword">= </span><span class="string">&apos;var&apos;</span><span class="keyword">;<br><br>&#xA0; public function </span><span class="default">getVar</span><span class="keyword">()<br>&#xA0; {<br>&#xA0; &#xA0; return </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">accessVar</span><span class="keyword">();<br>&#xA0; }<br>}<br><br></span><span class="default">$t </span><span class="keyword">= new </span><span class="default">TraitUser</span><span class="keyword">();<br>echo </span><span class="default">$t</span><span class="keyword">-&gt;</span><span class="default">getVar</span><span class="keyword">(); </span><span class="comment">// -&gt; &apos;var&apos;&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; <br><br></span><span class="default">?&gt;</span>
</span>
</div>
  

#


<div class="phpcode"><span class="html">
As already noted, static properties and methods in trait could be accessed directly using trait. Since trait is language assisted c/p, you should be aware that static property from trait will be initialized to the value trait property had in the time of class declaration. <br><br>Example:<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">trait </span><span class="default">Beer </span><span class="keyword">{<br>&#xA0; &#xA0; protected static </span><span class="default">$type </span><span class="keyword">= </span><span class="string">&apos;Light&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; public static function </span><span class="default">printed</span><span class="keyword">(){<br>&#xA0; &#xA0; &#xA0; &#xA0; echo static::</span><span class="default">$type</span><span class="keyword">.</span><span class="default">PHP_EOL</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; public static function </span><span class="default">setType</span><span class="keyword">(</span><span class="default">$type</span><span class="keyword">){<br>&#xA0; &#xA0; &#xA0; &#xA0; static::</span><span class="default">$type </span><span class="keyword">= </span><span class="default">$type</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>}<br><br>class </span><span class="default">Ale </span><span class="keyword">{<br>&#xA0; &#xA0; use </span><span class="default">Beer</span><span class="keyword">;<br>}<br><br></span><span class="default">Beer</span><span class="keyword">::</span><span class="default">setType</span><span class="keyword">(</span><span class="string">&quot;Dark&quot;</span><span class="keyword">);<br><br>class </span><span class="default">Lager </span><span class="keyword">{<br>&#xA0; &#xA0; use </span><span class="default">Beer</span><span class="keyword">;<br>}<br><br></span><span class="default">Beer</span><span class="keyword">::</span><span class="default">setType</span><span class="keyword">(</span><span class="string">&quot;Amber&quot;</span><span class="keyword">);<br><br></span><span class="default">header</span><span class="keyword">(</span><span class="string">&quot;Content-type: text/plain&quot;</span><span class="keyword">);<br><br></span><span class="default">Beer</span><span class="keyword">::</span><span class="default">printed</span><span class="keyword">();&#xA0; </span><span class="comment">// Prints: Amber<br></span><span class="default">Ale</span><span class="keyword">::</span><span class="default">printed</span><span class="keyword">();&#xA0;&#xA0; </span><span class="comment">// Prints: Light<br></span><span class="default">Lager</span><span class="keyword">::</span><span class="default">printed</span><span class="keyword">(); </span><span class="comment">// Prints: Dark<br><br></span><span class="default">?&gt;</span>
</span>
</div>
  

#


<div class="phpcode"><span class="html">
A number of the notes make incorrect assertions about trait behaviour because they do not extend the class.<br><br>So, while &quot;Unlike inheritance; if a trait has static properties, each class using that trait has independent instances of those properties.<br><br>Example using parent class:<br><span class="default">&lt;?php<br></span><span class="keyword">class </span><span class="default">TestClass </span><span class="keyword">{<br>&#xA0; &#xA0; public static </span><span class="default">$_bar</span><span class="keyword">;<br>}<br>class </span><span class="default">Foo1 </span><span class="keyword">extends </span><span class="default">TestClass </span><span class="keyword">{ }<br>class </span><span class="default">Foo2 </span><span class="keyword">extends </span><span class="default">TestClass </span><span class="keyword">{ }<br></span><span class="default">Foo1</span><span class="keyword">::</span><span class="default">$_bar </span><span class="keyword">= </span><span class="string">&apos;Hello&apos;</span><span class="keyword">;<br></span><span class="default">Foo2</span><span class="keyword">::</span><span class="default">$_bar </span><span class="keyword">= </span><span class="string">&apos;World&apos;</span><span class="keyword">;<br>echo </span><span class="default">Foo1</span><span class="keyword">::</span><span class="default">$_bar </span><span class="keyword">. </span><span class="string">&apos; &apos; </span><span class="keyword">. </span><span class="default">Foo2</span><span class="keyword">::</span><span class="default">$_bar</span><span class="keyword">; </span><span class="comment">// Prints: World World<br></span><span class="default">?&gt;<br></span><br>Example using trait:<br><span class="default">&lt;?php<br></span><span class="keyword">trait </span><span class="default">TestTrait </span><span class="keyword">{<br>&#xA0; &#xA0; public static </span><span class="default">$_bar</span><span class="keyword">;<br>}<br>class </span><span class="default">Foo1 </span><span class="keyword">{<br>&#xA0; &#xA0; use </span><span class="default">TestTrait</span><span class="keyword">;<br>}<br>class </span><span class="default">Foo2 </span><span class="keyword">{<br>&#xA0; &#xA0; use </span><span class="default">TestTrait</span><span class="keyword">;<br>}<br></span><span class="default">Foo1</span><span class="keyword">::</span><span class="default">$_bar </span><span class="keyword">= </span><span class="string">&apos;Hello&apos;</span><span class="keyword">;<br></span><span class="default">Foo2</span><span class="keyword">::</span><span class="default">$_bar </span><span class="keyword">= </span><span class="string">&apos;World&apos;</span><span class="keyword">;<br>echo </span><span class="default">Foo1</span><span class="keyword">::</span><span class="default">$_bar </span><span class="keyword">. </span><span class="string">&apos; &apos; </span><span class="keyword">. </span><span class="default">Foo2</span><span class="keyword">::</span><span class="default">$_bar</span><span class="keyword">; </span><span class="comment">// Prints: Hello World<br></span><span class="default">?&gt;</span>&quot;<br><br>shows a correct example, simply adding<br><span class="default">&lt;?php<br></span><span class="keyword">require_once(</span><span class="string">&apos;above&apos;</span><span class="keyword">);<br>class </span><span class="default">Foo3 </span><span class="keyword">extends </span><span class="default">Foo2 </span><span class="keyword">{<br>}<br></span><span class="default">Foo3</span><span class="keyword">::</span><span class="default">$_bar </span><span class="keyword">= </span><span class="string">&apos;news&apos;</span><span class="keyword">;<br>echo </span><span class="default">Foo1</span><span class="keyword">::</span><span class="default">$_bar </span><span class="keyword">. </span><span class="string">&apos; &apos; </span><span class="keyword">. </span><span class="default">Foo2</span><span class="keyword">::</span><span class="default">$_bar </span><span class="keyword">. </span><span class="string">&apos; &apos; </span><span class="keyword">. </span><span class="default">Foo3</span><span class="keyword">::</span><span class="default">$_bar</span><span class="keyword">; <br><br></span><span class="comment">// Prints: Hello news news<br><br></span><span class="default">I think the best conceptual model of an incorporated </span><span class="keyword">trait </span><span class="default">is an advanced insertion of text</span><span class="keyword">, or as </span><span class="default">someone put it </span><span class="string">&quot;language assisted copy and paste.&quot; </span><span class="keyword">If </span><span class="default">Foo1 </span><span class="keyword">and </span><span class="default">Foo2 were defined with $_bar</span><span class="keyword">, </span><span class="default">you would not expect them to share the instance</span><span class="keyword">. </span><span class="default">Similarly</span><span class="keyword">, </span><span class="default">you would expect Foo3 to share with Foo2</span><span class="keyword">, and </span><span class="default">it does</span><span class="keyword">.<br><br></span><span class="default">Viewing this way explains away a lot of&#xA0; the </span><span class="string">&apos;quirks&apos; </span><span class="default">that are observed above with </span><span class="keyword">final, or </span><span class="default">subsequently declared </span><span class="keyword">private </span><span class="default">vars</span><span class="keyword">,</span>
</span>
</div>
  

#


<div class="phpcode"><span class="html">
Not very obvious but trait methods can be called as if they were defined as static methods in a regular class
<br>
<br><span class="default">&lt;?php
<br></span><span class="keyword">trait </span><span class="default">Foo </span><span class="keyword">{
<br>&#xA0; &#xA0; function </span><span class="default">bar</span><span class="keyword">() {
<br>&#xA0; &#xA0; &#xA0; &#xA0; return </span><span class="string">&apos;baz&apos;</span><span class="keyword">;
<br>&#xA0; &#xA0; }
<br>}
<br>
<br>echo </span><span class="default">Foo</span><span class="keyword">::</span><span class="default">bar</span><span class="keyword">(),</span><span class="string">&quot;\\n&quot;</span><span class="keyword">;
<br></span><span class="default">?&gt;</span>
</span>
</div>
  

#


<div class="phpcode"><span class="html">
Traits can not implement interfaces.<br>(should be obvious, but tested is tested)</span>
</div>
  

#


<div class="phpcode"><span class="html">
<span class="default">&lt;?php<br></span><span class="keyword">trait </span><span class="default">A<br></span><span class="keyword">{<br>&#xA0; &#xA0; public function </span><span class="default">bar</span><span class="keyword">()<br>&#xA0; &#xA0; {<br>&#xA0; &#xA0; &#xA0; &#xA0; echo </span><span class="string">&apos;A::bar&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>}<br><br>trait </span><span class="default">B<br></span><span class="keyword">{<br>&#xA0; &#xA0; public function </span><span class="default">bar</span><span class="keyword">()<br>&#xA0; &#xA0; {<br>&#xA0; &#xA0; &#xA0; &#xA0; echo </span><span class="string">&apos;B::bar&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>}<br><br>trait </span><span class="default">C<br></span><span class="keyword">{<br>&#xA0; &#xA0; public function </span><span class="default">bar</span><span class="keyword">()<br>&#xA0; &#xA0; {<br>&#xA0; &#xA0; &#xA0; &#xA0; echo </span><span class="string">&apos;C::bar&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>}<br><br>class </span><span class="default">Foo<br></span><span class="keyword">{<br>&#xA0; &#xA0; use </span><span class="default">A</span><span class="keyword">, </span><span class="default">B</span><span class="keyword">, </span><span class="default">C </span><span class="keyword">{<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">C</span><span class="keyword">::</span><span class="default">bar </span><span class="keyword">insteadof </span><span class="default">A</span><span class="keyword">, </span><span class="default">B</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>}<br><br></span><span class="default">$foo </span><span class="keyword">= new </span><span class="default">Foo</span><span class="keyword">();<br></span><span class="default">$foo</span><span class="keyword">-&gt;</span><span class="default">bar</span><span class="keyword">(); </span><span class="comment">//C::bar</span>
</span>
</div>
  

#


<div class="phpcode"><span class="html">
The magic method __call works as expected using traits.<br><br><span class="default">&lt;?php <br></span><span class="keyword">trait </span><span class="default">Call_Helper</span><span class="keyword">{<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; public function </span><span class="default">__call</span><span class="keyword">(</span><span class="default">$name</span><span class="keyword">, </span><span class="default">$args</span><span class="keyword">){<br>&#xA0; &#xA0; &#xA0; &#xA0; return </span><span class="default">count</span><span class="keyword">(</span><span class="default">$args</span><span class="keyword">);<br>&#xA0; &#xA0; }<br>}<br><br>class </span><span class="default">Foo</span><span class="keyword">{<br>&#xA0; &#xA0; use </span><span class="default">Call_Helper</span><span class="keyword">;<br>}<br><br></span><span class="default">$foo </span><span class="keyword">= new </span><span class="default">Foo</span><span class="keyword">();<br>echo </span><span class="default">$foo</span><span class="keyword">-&gt;</span><span class="default">go</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">,</span><span class="default">2</span><span class="keyword">,</span><span class="default">3</span><span class="keyword">,</span><span class="default">4</span><span class="keyword">); </span><span class="comment">// echoes 4</span>
</span>
</div>
  

#


<div class="phpcode"><span class="html">
Simple singleton trait.<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">trait </span><span class="default">singleton </span><span class="keyword">{&#xA0; &#xA0; <br>&#xA0; &#xA0; </span><span class="comment">/**<br>&#xA0; &#xA0;&#xA0; * private construct, generally defined by using class<br>&#xA0; &#xA0;&#xA0; */<br>&#xA0; &#xA0; //private function __construct() {}<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; </span><span class="keyword">public static function </span><span class="default">getInstance</span><span class="keyword">() {<br>&#xA0; &#xA0; &#xA0; &#xA0; static </span><span class="default">$_instance </span><span class="keyword">= </span><span class="default">NULL</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$class </span><span class="keyword">= </span><span class="default">__CLASS__</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; return </span><span class="default">$_instance </span><span class="keyword">?: </span><span class="default">$_instance </span><span class="keyword">= new </span><span class="default">$class</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; public function </span><span class="default">__clone</span><span class="keyword">() {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">&apos;Cloning &apos;</span><span class="keyword">.</span><span class="default">__CLASS__</span><span class="keyword">.</span><span class="string">&apos; is not allowed.&apos;</span><span class="keyword">,</span><span class="default">E_USER_ERROR</span><span class="keyword">);<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; public function </span><span class="default">__wakeup</span><span class="keyword">() {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">trigger_error</span><span class="keyword">(</span><span class="string">&apos;Unserializing &apos;</span><span class="keyword">.</span><span class="default">__CLASS__</span><span class="keyword">.</span><span class="string">&apos; is not allowed.&apos;</span><span class="keyword">,</span><span class="default">E_USER_ERROR</span><span class="keyword">);<br>&#xA0; &#xA0; }<br>}<br><br></span><span class="comment">/**<br> * Example Usage<br> */<br><br></span><span class="keyword">class </span><span class="default">foo </span><span class="keyword">{<br>&#xA0; &#xA0; use </span><span class="default">singleton</span><span class="keyword">;<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; private function </span><span class="default">__construct</span><span class="keyword">() {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">name </span><span class="keyword">= </span><span class="string">&apos;foo&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>}<br><br>class </span><span class="default">bar </span><span class="keyword">{<br>&#xA0; &#xA0; use </span><span class="default">singleton</span><span class="keyword">;<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; private function </span><span class="default">__construct</span><span class="keyword">() {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">name </span><span class="keyword">= </span><span class="string">&apos;bar&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>}<br><br></span><span class="default">$foo </span><span class="keyword">= </span><span class="default">foo</span><span class="keyword">::</span><span class="default">getInstance</span><span class="keyword">();<br>echo </span><span class="default">$foo</span><span class="keyword">-&gt;</span><span class="default">name</span><span class="keyword">;<br><br></span><span class="default">$bar </span><span class="keyword">= </span><span class="default">bar</span><span class="keyword">::</span><span class="default">getInstance</span><span class="keyword">();<br>echo </span><span class="default">$bar</span><span class="keyword">-&gt;</span><span class="default">name</span><span class="keyword">;</span>
</span>
</div>
  

#


<div class="phpcode"><span class="html">
The difference between Traits and multiple inheritance is in the inheritance part.&#xA0;&#xA0; A trait is not inherited from, but rather included or mixed-in, thus becoming part of &quot;this class&quot;.&#xA0;&#xA0; Traits also provide a more controlled means of resolving conflicts that inevitably arise when using multiple inheritance in the few languages that support them (C++).&#xA0; Most modern languages are going the approach of a &quot;traits&quot; or &quot;mixin&quot; style system as opposed to multiple-inheritance, largely due to the ability to control ambiguities if a method is declared in multiple &quot;mixed-in&quot; classes.<br><br>Also, one can not &quot;inherit&quot; static member functions in multiple-inheritance.</span>
</div>
  

#


<div class="phpcode"><span class="html">
Note that you can omit a method&apos;s inclusion by excluding it from one trait in favor of the other and doing the exact same thing in the reverse way.<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">trait </span><span class="default">A </span><span class="keyword">{<br>&#xA0; &#xA0; public function </span><span class="default">sayHello</span><span class="keyword">()<br>&#xA0; &#xA0; {<br>&#xA0; &#xA0; &#xA0; &#xA0; echo </span><span class="string">&apos;Hello from A&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; }<br><br>&#xA0; &#xA0; public function </span><span class="default">sayWorld</span><span class="keyword">()<br>&#xA0; &#xA0; {<br>&#xA0; &#xA0; &#xA0; &#xA0; echo </span><span class="string">&apos;World from A&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>}<br><br>trait </span><span class="default">B </span><span class="keyword">{<br>&#xA0; &#xA0; public function </span><span class="default">sayHello</span><span class="keyword">()<br>&#xA0; &#xA0; {<br>&#xA0; &#xA0; &#xA0; &#xA0; echo </span><span class="string">&apos;Hello from B&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; }<br><br>&#xA0; &#xA0; public function </span><span class="default">sayWorld</span><span class="keyword">()<br>&#xA0; &#xA0; {<br>&#xA0; &#xA0; &#xA0; &#xA0; echo </span><span class="string">&apos;World from B&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>}<br><br>class </span><span class="default">Talker </span><span class="keyword">{<br>&#xA0; &#xA0; use </span><span class="default">A</span><span class="keyword">, </span><span class="default">B </span><span class="keyword">{<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">A</span><span class="keyword">::</span><span class="default">sayHello </span><span class="keyword">insteadof </span><span class="default">B</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">A</span><span class="keyword">::</span><span class="default">sayWorld </span><span class="keyword">insteadof </span><span class="default">B</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">B</span><span class="keyword">::</span><span class="default">sayWorld </span><span class="keyword">insteadof </span><span class="default">A</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>}<br><br></span><span class="default">$talker </span><span class="keyword">= new </span><span class="default">Talker</span><span class="keyword">();<br></span><span class="default">$talker</span><span class="keyword">-&gt;</span><span class="default">sayHello</span><span class="keyword">();<br></span><span class="default">$talker</span><span class="keyword">-&gt;</span><span class="default">sayWorld</span><span class="keyword">();<br><br></span><span class="default">?&gt;<br></span><br>The method sayHello is imported, but the method sayWorld is simply excluded.</span>
</div>
  

#


<div class="phpcode"><span class="html">
don&apos;t forget you can create complex (embedded) traits as well<br><br><span class="default">&lt;?php<br></span><span class="keyword">trait </span><span class="default">Name </span><span class="keyword">{<br>&#xA0; </span><span class="comment">// ...<br></span><span class="keyword">}<br>trait </span><span class="default">Address </span><span class="keyword">{<br>&#xA0; </span><span class="comment">// ...<br></span><span class="keyword">}<br>trait </span><span class="default">Telephone </span><span class="keyword">{<br>&#xA0; </span><span class="comment">// ...<br></span><span class="keyword">}<br>trait </span><span class="default">Contact </span><span class="keyword">{<br>&#xA0; use </span><span class="default">Name</span><span class="keyword">, </span><span class="default">Address</span><span class="keyword">, </span><span class="default">Telephone</span><span class="keyword">;<br>}<br>class </span><span class="default">Customer </span><span class="keyword">{<br>&#xA0; use </span><span class="default">Contact</span><span class="keyword">;<br>}<br>class </span><span class="default">Invoce </span><span class="keyword">{<br>&#xA0; use </span><span class="default">Contact</span><span class="keyword">;<br>}<br></span><span class="default">?&gt;</span>
</span>
</div>
  

#


<div class="phpcode"><span class="html">
A (somewhat) practical example of trait usage.<br><br>Without traits:<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">class </span><span class="default">Controller </span><span class="keyword">{<br>&#xA0; </span><span class="comment">/* Controller-specific methods defined here. */<br></span><span class="keyword">}<br><br>class </span><span class="default">AdminController </span><span class="keyword">extends </span><span class="default">Controller </span><span class="keyword">{<br>&#xA0; </span><span class="comment">/* Controller-specific methods inherited from Controller. */<br>&#xA0; /* Admin-specific methods defined here. */<br></span><span class="keyword">}<br><br>class </span><span class="default">CrudController </span><span class="keyword">extends </span><span class="default">Controller </span><span class="keyword">{<br>&#xA0; </span><span class="comment">/* Controller-specific methods inherited from Controller. */<br>&#xA0; /* CRUD-specific methods defined here. */<br></span><span class="keyword">}<br><br>class </span><span class="default">AdminCrudController </span><span class="keyword">extends </span><span class="default">CrudController </span><span class="keyword">{<br>&#xA0; </span><span class="comment">/* Controller-specific methods inherited from Controller. */<br>&#xA0; /* CRUD-specific methods inherited from CrudController. */<br>&#xA0; /* (!!!) Admin-specific methods copied and pasted from AdminController. */<br></span><span class="keyword">}<br><br></span><span class="default">?&gt;<br></span><br>With traits:<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">class </span><span class="default">Controller </span><span class="keyword">{<br>&#xA0; </span><span class="comment">/* Controller-specific methods defined here. */<br></span><span class="keyword">}<br><br>class </span><span class="default">AdminController </span><span class="keyword">extends </span><span class="default">Controller </span><span class="keyword">{<br>&#xA0; </span><span class="comment">/* Controller-specific methods inherited from Controller. */<br>&#xA0; /* Admin-specific methods defined here. */<br></span><span class="keyword">}<br><br>trait </span><span class="default">CrudControllerTrait </span><span class="keyword">{<br>&#xA0; </span><span class="comment">/* CRUD-specific methods defined here. */<br></span><span class="keyword">}<br><br>class </span><span class="default">AdminCrudController </span><span class="keyword">extends </span><span class="default">AdminController </span><span class="keyword">{<br>&#xA0; use </span><span class="default">CrudControllerTrait</span><span class="keyword">;<br>&#xA0; </span><span class="comment">/* Controller-specific methods inherited from Controller. */<br>&#xA0; /* Admin-specific methods inherited from AdminController. */<br>&#xA0; /* CRUD-specific methods defined by CrudControllerTrait. */<br></span><span class="keyword">}<br><br></span><span class="default">?&gt;</span>
</span>
</div>
  

#


<div class="phpcode"><span class="html">
Traits are useful for strategies, when you want the same data to be handled (filtered, sorted, etc) differently.<br><br>For example, you have a list of products that you want to filter out based on some criteria (brands, specs, whatever), or sorted by different means (price, label, whatever). You can create a sorting trait that contains different functions for different sorting types (numeric, string, date, etc). You can then use this trait not only in your product class (as given in the example), but also in other classes that need similar strategies (to apply a numeric sort to some data, etc).<br><br><span class="default">&lt;?php<br></span><span class="keyword">trait </span><span class="default">SortStrategy </span><span class="keyword">{<br>&#xA0; &#xA0; private </span><span class="default">$sort_field </span><span class="keyword">= </span><span class="default">null</span><span class="keyword">;<br>&#xA0; &#xA0; private function </span><span class="default">string_asc</span><span class="keyword">(</span><span class="default">$item1</span><span class="keyword">, </span><span class="default">$item2</span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; return </span><span class="default">strnatcmp</span><span class="keyword">(</span><span class="default">$item1</span><span class="keyword">[</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sort_field</span><span class="keyword">], </span><span class="default">$item2</span><span class="keyword">[</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sort_field</span><span class="keyword">]);<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; private function </span><span class="default">string_desc</span><span class="keyword">(</span><span class="default">$item1</span><span class="keyword">, </span><span class="default">$item2</span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; return </span><span class="default">strnatcmp</span><span class="keyword">(</span><span class="default">$item2</span><span class="keyword">[</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sort_field</span><span class="keyword">], </span><span class="default">$item1</span><span class="keyword">[</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sort_field</span><span class="keyword">]);<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; private function </span><span class="default">num_asc</span><span class="keyword">(</span><span class="default">$item1</span><span class="keyword">, </span><span class="default">$item2</span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; if (</span><span class="default">$item1</span><span class="keyword">[</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sort_field</span><span class="keyword">] == </span><span class="default">$item2</span><span class="keyword">[</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sort_field</span><span class="keyword">]) return </span><span class="default">0</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; return (</span><span class="default">$item1</span><span class="keyword">[</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sort_field</span><span class="keyword">] &lt; </span><span class="default">$item2</span><span class="keyword">[</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sort_field</span><span class="keyword">] ? -</span><span class="default">1 </span><span class="keyword">: </span><span class="default">1 </span><span class="keyword">);<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; private function </span><span class="default">num_desc</span><span class="keyword">(</span><span class="default">$item1</span><span class="keyword">, </span><span class="default">$item2</span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; if (</span><span class="default">$item1</span><span class="keyword">[</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sort_field</span><span class="keyword">] == </span><span class="default">$item2</span><span class="keyword">[</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sort_field</span><span class="keyword">]) return </span><span class="default">0</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; return (</span><span class="default">$item1</span><span class="keyword">[</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sort_field</span><span class="keyword">] &gt; </span><span class="default">$item2</span><span class="keyword">[</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sort_field</span><span class="keyword">] ? -</span><span class="default">1 </span><span class="keyword">: </span><span class="default">1 </span><span class="keyword">);<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; private function </span><span class="default">date_asc</span><span class="keyword">(</span><span class="default">$item1</span><span class="keyword">, </span><span class="default">$item2</span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$date1 </span><span class="keyword">= </span><span class="default">intval</span><span class="keyword">(</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">&apos;-&apos;</span><span class="keyword">, </span><span class="string">&apos;&apos;</span><span class="keyword">, </span><span class="default">$item1</span><span class="keyword">[</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sort_field</span><span class="keyword">]));<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$date2 </span><span class="keyword">= </span><span class="default">intval</span><span class="keyword">(</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">&apos;-&apos;</span><span class="keyword">, </span><span class="string">&apos;&apos;</span><span class="keyword">, </span><span class="default">$item2</span><span class="keyword">[</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sort_field</span><span class="keyword">]));<br>&#xA0; &#xA0; &#xA0; &#xA0; if (</span><span class="default">$date1 </span><span class="keyword">== </span><span class="default">$date2</span><span class="keyword">) return </span><span class="default">0</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; return (</span><span class="default">$date1 </span><span class="keyword">&lt; </span><span class="default">$date2 </span><span class="keyword">? -</span><span class="default">1 </span><span class="keyword">: </span><span class="default">1 </span><span class="keyword">);<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; private function </span><span class="default">date_desc</span><span class="keyword">(</span><span class="default">$item1</span><span class="keyword">, </span><span class="default">$item2</span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$date1 </span><span class="keyword">= </span><span class="default">intval</span><span class="keyword">(</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">&apos;-&apos;</span><span class="keyword">, </span><span class="string">&apos;&apos;</span><span class="keyword">, </span><span class="default">$item1</span><span class="keyword">[</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sort_field</span><span class="keyword">]));<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$date2 </span><span class="keyword">= </span><span class="default">intval</span><span class="keyword">(</span><span class="default">str_replace</span><span class="keyword">(</span><span class="string">&apos;-&apos;</span><span class="keyword">, </span><span class="string">&apos;&apos;</span><span class="keyword">, </span><span class="default">$item2</span><span class="keyword">[</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sort_field</span><span class="keyword">]));<br>&#xA0; &#xA0; &#xA0; &#xA0; if (</span><span class="default">$date1 </span><span class="keyword">== </span><span class="default">$date2</span><span class="keyword">) return </span><span class="default">0</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; return (</span><span class="default">$date1 </span><span class="keyword">&gt; </span><span class="default">$date2 </span><span class="keyword">? -</span><span class="default">1 </span><span class="keyword">: </span><span class="default">1 </span><span class="keyword">);<br>&#xA0; &#xA0; }<br>}<br><br>class </span><span class="default">Product </span><span class="keyword">{<br>&#xA0; &#xA0; public </span><span class="default">$data </span><span class="keyword">= array();<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; use </span><span class="default">SortStrategy</span><span class="keyword">;<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; public function </span><span class="default">get</span><span class="keyword">() {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="comment">// do something to get the data, for this ex. I just included an array<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">data </span><span class="keyword">= array(<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">101222 </span><span class="keyword">=&gt; array(</span><span class="string">&apos;label&apos; </span><span class="keyword">=&gt; </span><span class="string">&apos;Awesome product&apos;</span><span class="keyword">, </span><span class="string">&apos;price&apos; </span><span class="keyword">=&gt; </span><span class="default">10.50</span><span class="keyword">, </span><span class="string">&apos;date_added&apos; </span><span class="keyword">=&gt; </span><span class="string">&apos;2012-02-01&apos;</span><span class="keyword">),<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">101232 </span><span class="keyword">=&gt; array(</span><span class="string">&apos;label&apos; </span><span class="keyword">=&gt; </span><span class="string">&apos;Not so awesome product&apos;</span><span class="keyword">, </span><span class="string">&apos;price&apos; </span><span class="keyword">=&gt; </span><span class="default">5.20</span><span class="keyword">, </span><span class="string">&apos;date_added&apos; </span><span class="keyword">=&gt; </span><span class="string">&apos;2012-03-20&apos;</span><span class="keyword">),<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">101241 </span><span class="keyword">=&gt; array(</span><span class="string">&apos;label&apos; </span><span class="keyword">=&gt; </span><span class="string">&apos;Pretty neat product&apos;</span><span class="keyword">, </span><span class="string">&apos;price&apos; </span><span class="keyword">=&gt; </span><span class="default">9.65</span><span class="keyword">, </span><span class="string">&apos;date_added&apos; </span><span class="keyword">=&gt; </span><span class="string">&apos;2012-04-15&apos;</span><span class="keyword">),<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">101256 </span><span class="keyword">=&gt; array(</span><span class="string">&apos;label&apos; </span><span class="keyword">=&gt; </span><span class="string">&apos;Freakishly cool product&apos;</span><span class="keyword">, </span><span class="string">&apos;price&apos; </span><span class="keyword">=&gt; </span><span class="default">12.55</span><span class="keyword">, </span><span class="string">&apos;date_added&apos; </span><span class="keyword">=&gt; </span><span class="string">&apos;2012-01-11&apos;</span><span class="keyword">),<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">101219 </span><span class="keyword">=&gt; array(</span><span class="string">&apos;label&apos; </span><span class="keyword">=&gt; </span><span class="string">&apos;Meh product&apos;</span><span class="keyword">, </span><span class="string">&apos;price&apos; </span><span class="keyword">=&gt; </span><span class="default">3.69</span><span class="keyword">, </span><span class="string">&apos;date_added&apos; </span><span class="keyword">=&gt; </span><span class="string">&apos;2012-06-11&apos;</span><span class="keyword">),<br>&#xA0; &#xA0; &#xA0; &#xA0; );<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; public function </span><span class="default">sort_by</span><span class="keyword">(</span><span class="default">$by </span><span class="keyword">= </span><span class="string">&apos;price&apos;</span><span class="keyword">, </span><span class="default">$type </span><span class="keyword">= </span><span class="string">&apos;asc&apos;</span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; if (!</span><span class="default">preg_match</span><span class="keyword">(</span><span class="string">&apos;/^(asc|desc)$/&apos;</span><span class="keyword">, </span><span class="default">$type</span><span class="keyword">)) </span><span class="default">$type </span><span class="keyword">= </span><span class="string">&apos;asc&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; switch (</span><span class="default">$by</span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; case </span><span class="string">&apos;name&apos;</span><span class="keyword">:<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sort_field </span><span class="keyword">= </span><span class="string">&apos;label&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">uasort</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">data</span><span class="keyword">, array(</span><span class="string">&apos;Product&apos;</span><span class="keyword">, </span><span class="string">&apos;string_&apos;</span><span class="keyword">.</span><span class="default">$type</span><span class="keyword">));<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; break;<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; case </span><span class="string">&apos;date&apos;</span><span class="keyword">:<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sort_field </span><span class="keyword">= </span><span class="string">&apos;date_added&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">uasort</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">data</span><span class="keyword">, array(</span><span class="string">&apos;Product&apos;</span><span class="keyword">, </span><span class="string">&apos;date_&apos;</span><span class="keyword">.</span><span class="default">$type</span><span class="keyword">));<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; break;<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; default:<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">sort_field </span><span class="keyword">= </span><span class="string">&apos;price&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">uasort</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">data</span><span class="keyword">, array(</span><span class="string">&apos;Product&apos;</span><span class="keyword">, </span><span class="string">&apos;num_&apos;</span><span class="keyword">.</span><span class="default">$type</span><span class="keyword">));<br>&#xA0; &#xA0; &#xA0; &#xA0; }<br>&#xA0; &#xA0; }<br>}<br><br></span><span class="default">$product </span><span class="keyword">= new </span><span class="default">Product</span><span class="keyword">();<br></span><span class="default">$product</span><span class="keyword">-&gt;</span><span class="default">get</span><span class="keyword">();<br></span><span class="default">$product</span><span class="keyword">-&gt;</span><span class="default">sort_by</span><span class="keyword">(</span><span class="string">&apos;name&apos;</span><span class="keyword">);<br>echo </span><span class="string">&apos;&lt;pre&gt;&apos;</span><span class="keyword">.</span><span class="default">print_r</span><span class="keyword">(</span><span class="default">$product</span><span class="keyword">-&gt;</span><span class="default">data</span><span class="keyword">, </span><span class="default">true</span><span class="keyword">).</span><span class="string">&apos;&lt;/pre&gt;&apos;</span><span class="keyword">;<br></span><span class="default">?&gt;</span>
</span>
</div>
  

#

[Official documentation page](https://www.php.net/manual/en/language.oop5.traits.php)

**[To root](/)**