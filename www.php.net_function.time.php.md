# time




<div class="phpcode"><span class="html">
The documentation should have this info. The function time() returns always timestamp that is timezone independent (=UTC).
<br>
<br><span class="default">&lt;?php
<br>date_default_timezone_set</span><span class="keyword">(</span><span class="string">&quot;UTC&quot;</span><span class="keyword">); 
<br>echo </span><span class="string">&quot;UTC:&quot;</span><span class="keyword">.</span><span class="default">time</span><span class="keyword">();
<br>echo </span><span class="string">&quot;&lt;br&gt;&quot;</span><span class="keyword">;
<br>
<br></span><span class="default">date_default_timezone_set</span><span class="keyword">(</span><span class="string">&quot;Europe/Helsinki&quot;</span><span class="keyword">); 
<br>echo </span><span class="string">&quot;Europe/Helsinki:&quot;</span><span class="keyword">.</span><span class="default">time</span><span class="keyword">();
<br>echo </span><span class="string">&quot;&lt;br&gt;&quot;</span><span class="keyword">;
<br></span><span class="default">?&gt;
<br></span>
<br>Local time as string can be get by strftime() and local timestamp (if ever needed) by mktime().</span>
</div>
  

#


<div class="phpcode"><span class="html">
Two quick approaches to getting the time elapsed in human readable form.<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">time_elapsed_A</span><span class="keyword">(</span><span class="default">$secs</span><span class="keyword">){<br>&#xA0; &#xA0; </span><span class="default">$bit </span><span class="keyword">= array(<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="string">&apos;y&apos; </span><span class="keyword">=&gt; </span><span class="default">$secs </span><span class="keyword">/ </span><span class="default">31556926 </span><span class="keyword">% </span><span class="default">12</span><span class="keyword">,<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="string">&apos;w&apos; </span><span class="keyword">=&gt; </span><span class="default">$secs </span><span class="keyword">/ </span><span class="default">604800 </span><span class="keyword">% </span><span class="default">52</span><span class="keyword">,<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="string">&apos;d&apos; </span><span class="keyword">=&gt; </span><span class="default">$secs </span><span class="keyword">/ </span><span class="default">86400 </span><span class="keyword">% </span><span class="default">7</span><span class="keyword">,<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="string">&apos;h&apos; </span><span class="keyword">=&gt; </span><span class="default">$secs </span><span class="keyword">/ </span><span class="default">3600 </span><span class="keyword">% </span><span class="default">24</span><span class="keyword">,<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="string">&apos;m&apos; </span><span class="keyword">=&gt; </span><span class="default">$secs </span><span class="keyword">/ </span><span class="default">60 </span><span class="keyword">% </span><span class="default">60</span><span class="keyword">,<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="string">&apos;s&apos; </span><span class="keyword">=&gt; </span><span class="default">$secs </span><span class="keyword">% </span><span class="default">60<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="keyword">);<br>&#xA0; &#xA0; &#xA0; &#xA0; <br>&#xA0; &#xA0; foreach(</span><span class="default">$bit </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">)<br>&#xA0; &#xA0; &#xA0; &#xA0; if(</span><span class="default">$v </span><span class="keyword">&gt; </span><span class="default">0</span><span class="keyword">)</span><span class="default">$ret</span><span class="keyword">[] = </span><span class="default">$v </span><span class="keyword">. </span><span class="default">$k</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; <br>&#xA0; &#xA0; return </span><span class="default">join</span><span class="keyword">(</span><span class="string">&apos; &apos;</span><span class="keyword">, </span><span class="default">$ret</span><span class="keyword">);<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; <br><br>function </span><span class="default">time_elapsed_B</span><span class="keyword">(</span><span class="default">$secs</span><span class="keyword">){<br>&#xA0; &#xA0; </span><span class="default">$bit </span><span class="keyword">= array(<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="string">&apos; year&apos;&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="keyword">=&gt; </span><span class="default">$secs </span><span class="keyword">/ </span><span class="default">31556926 </span><span class="keyword">% </span><span class="default">12</span><span class="keyword">,<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="string">&apos; week&apos;&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="keyword">=&gt; </span><span class="default">$secs </span><span class="keyword">/ </span><span class="default">604800 </span><span class="keyword">% </span><span class="default">52</span><span class="keyword">,<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="string">&apos; day&apos;&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="keyword">=&gt; </span><span class="default">$secs </span><span class="keyword">/ </span><span class="default">86400 </span><span class="keyword">% </span><span class="default">7</span><span class="keyword">,<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="string">&apos; hour&apos;&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="keyword">=&gt; </span><span class="default">$secs </span><span class="keyword">/ </span><span class="default">3600 </span><span class="keyword">% </span><span class="default">24</span><span class="keyword">,<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="string">&apos; minute&apos;&#xA0; &#xA0; </span><span class="keyword">=&gt; </span><span class="default">$secs </span><span class="keyword">/ </span><span class="default">60 </span><span class="keyword">% </span><span class="default">60</span><span class="keyword">,<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="string">&apos; second&apos;&#xA0; &#xA0; </span><span class="keyword">=&gt; </span><span class="default">$secs </span><span class="keyword">% </span><span class="default">60<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="keyword">);<br>&#xA0; &#xA0; &#xA0; &#xA0; <br>&#xA0; &#xA0; foreach(</span><span class="default">$bit </span><span class="keyword">as </span><span class="default">$k </span><span class="keyword">=&gt; </span><span class="default">$v</span><span class="keyword">){<br>&#xA0; &#xA0; &#xA0; &#xA0; if(</span><span class="default">$v </span><span class="keyword">&gt; </span><span class="default">1</span><span class="keyword">)</span><span class="default">$ret</span><span class="keyword">[] = </span><span class="default">$v </span><span class="keyword">. </span><span class="default">$k </span><span class="keyword">. </span><span class="string">&apos;s&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; if(</span><span class="default">$v </span><span class="keyword">== </span><span class="default">1</span><span class="keyword">)</span><span class="default">$ret</span><span class="keyword">[] = </span><span class="default">$v </span><span class="keyword">. </span><span class="default">$k</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; }<br>&#xA0; &#xA0; </span><span class="default">array_splice</span><span class="keyword">(</span><span class="default">$ret</span><span class="keyword">, </span><span class="default">count</span><span class="keyword">(</span><span class="default">$ret</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">, </span><span class="default">0</span><span class="keyword">, </span><span class="string">&apos;and&apos;</span><span class="keyword">);<br>&#xA0; &#xA0; </span><span class="default">$ret</span><span class="keyword">[] = </span><span class="string">&apos;ago.&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; return </span><span class="default">join</span><span class="keyword">(</span><span class="string">&apos; &apos;</span><span class="keyword">, </span><span class="default">$ret</span><span class="keyword">);<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; <br><br>&#xA0; &#xA0; <br>&#xA0; &#xA0; <br></span><span class="default">$nowtime </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">();<br></span><span class="default">$oldtime </span><span class="keyword">= </span><span class="default">1335939007</span><span class="keyword">;<br><br>echo </span><span class="string">&quot;time_elapsed_A: &quot;</span><span class="keyword">.</span><span class="default">time_elapsed_A</span><span class="keyword">(</span><span class="default">$nowtime</span><span class="keyword">-</span><span class="default">$oldtime</span><span class="keyword">).</span><span class="string">&quot;\n&quot;</span><span class="keyword">;<br>echo </span><span class="string">&quot;time_elapsed_B: &quot;</span><span class="keyword">.</span><span class="default">time_elapsed_B</span><span class="keyword">(</span><span class="default">$nowtime</span><span class="keyword">-</span><span class="default">$oldtime</span><span class="keyword">).</span><span class="string">&quot;\n&quot;</span><span class="keyword">;<br><br></span><span class="comment">/** Output:<br>time_elapsed_A: 6d 15h 48m 19s<br>time_elapsed_B: 6 days 15 hours 48 minutes and 19 seconds ago.<br>**/<br></span><span class="default">?&gt;</span>
</span>
</div>
  

#


<div class="phpcode"><span class="html">
The number of 86,400 seconds in a day comes from the assumption of 60 seconds per minute, 60 minutes per hour and 24 hours per day: 60*60*24.&#xA0; But not every day has 24 hours.&#xA0; This edge case occurs on the days that clocks change as we enter and leave daylight savings (summer) time.&#xA0; Date and time arithmetic is logically consistent and correct when you use PHP built-in functions, but it may not always work as expected if you try to write your own date and time arithmetic.</span>
</div>
  

#


<div class="phpcode"><span class="html">
A time difference function that outputs the time passed in facebook&apos;s style: 1 day ago, or 4 months ago. I took andrew dot macrobert at gmail dot com function and tweaked it a bit. On a strict enviroment it was throwing errors, plus I needed it to calculate the difference in time between a past date and a future date. <br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">nicetime</span><span class="keyword">(</span><span class="default">$date</span><span class="keyword">)<br>{<br>&#xA0; &#xA0; if(empty(</span><span class="default">$date</span><span class="keyword">)) {<br>&#xA0; &#xA0; &#xA0; &#xA0; return </span><span class="string">&quot;No date provided&quot;</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; </span><span class="default">$periods&#xA0; &#xA0; &#xA0; &#xA0;&#xA0; </span><span class="keyword">= array(</span><span class="string">&quot;second&quot;</span><span class="keyword">, </span><span class="string">&quot;minute&quot;</span><span class="keyword">, </span><span class="string">&quot;hour&quot;</span><span class="keyword">, </span><span class="string">&quot;day&quot;</span><span class="keyword">, </span><span class="string">&quot;week&quot;</span><span class="keyword">, </span><span class="string">&quot;month&quot;</span><span class="keyword">, </span><span class="string">&quot;year&quot;</span><span class="keyword">, </span><span class="string">&quot;decade&quot;</span><span class="keyword">);<br>&#xA0; &#xA0; </span><span class="default">$lengths&#xA0; &#xA0; &#xA0; &#xA0;&#xA0; </span><span class="keyword">= array(</span><span class="string">&quot;60&quot;</span><span class="keyword">,</span><span class="string">&quot;60&quot;</span><span class="keyword">,</span><span class="string">&quot;24&quot;</span><span class="keyword">,</span><span class="string">&quot;7&quot;</span><span class="keyword">,</span><span class="string">&quot;4.35&quot;</span><span class="keyword">,</span><span class="string">&quot;12&quot;</span><span class="keyword">,</span><span class="string">&quot;10&quot;</span><span class="keyword">);<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; </span><span class="default">$now&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; </span><span class="keyword">= </span><span class="default">time</span><span class="keyword">();<br>&#xA0; &#xA0; </span><span class="default">$unix_date&#xA0; &#xA0; &#xA0; &#xA0;&#xA0; </span><span class="keyword">= </span><span class="default">strtotime</span><span class="keyword">(</span><span class="default">$date</span><span class="keyword">);<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; &#xA0;&#xA0; </span><span class="comment">// check validity of date<br>&#xA0; &#xA0; </span><span class="keyword">if(empty(</span><span class="default">$unix_date</span><span class="keyword">)) {&#xA0; &#xA0; <br>&#xA0; &#xA0; &#xA0; &#xA0; return </span><span class="string">&quot;Bad date&quot;</span><span class="keyword">;<br>&#xA0; &#xA0; }<br><br>&#xA0; &#xA0; </span><span class="comment">// is it future date or past date<br>&#xA0; &#xA0; </span><span class="keyword">if(</span><span class="default">$now </span><span class="keyword">&gt; </span><span class="default">$unix_date</span><span class="keyword">) {&#xA0; &#xA0; <br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$difference&#xA0; &#xA0;&#xA0; </span><span class="keyword">= </span><span class="default">$now </span><span class="keyword">- </span><span class="default">$unix_date</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$tense&#xA0; &#xA0; &#xA0; &#xA0;&#xA0; </span><span class="keyword">= </span><span class="string">&quot;ago&quot;</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; <br>&#xA0; &#xA0; } else {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$difference&#xA0; &#xA0;&#xA0; </span><span class="keyword">= </span><span class="default">$unix_date </span><span class="keyword">- </span><span class="default">$now</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$tense&#xA0; &#xA0; &#xA0; &#xA0;&#xA0; </span><span class="keyword">= </span><span class="string">&quot;from now&quot;</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; for(</span><span class="default">$j </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$difference </span><span class="keyword">&gt;= </span><span class="default">$lengths</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">] &amp;&amp; </span><span class="default">$j </span><span class="keyword">&lt; </span><span class="default">count</span><span class="keyword">(</span><span class="default">$lengths</span><span class="keyword">)-</span><span class="default">1</span><span class="keyword">; </span><span class="default">$j</span><span class="keyword">++) {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$difference </span><span class="keyword">/= </span><span class="default">$lengths</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">];<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; </span><span class="default">$difference </span><span class="keyword">= </span><span class="default">round</span><span class="keyword">(</span><span class="default">$difference</span><span class="keyword">);<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; if(</span><span class="default">$difference </span><span class="keyword">!= </span><span class="default">1</span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$periods</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">].= </span><span class="string">&quot;s&quot;</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; return </span><span class="string">&quot;</span><span class="default">$difference</span><span class="string"> </span><span class="default">$periods</span><span class="keyword">[</span><span class="default">$j</span><span class="keyword">]</span><span class="string"> </span><span class="keyword">{</span><span class="default">$tense</span><span class="keyword">}</span><span class="string">&quot;</span><span class="keyword">;<br>}<br><br></span><span class="default">$date </span><span class="keyword">= </span><span class="string">&quot;2009-03-04 17:45&quot;</span><span class="keyword">;<br></span><span class="default">$result </span><span class="keyword">= </span><span class="default">nicetime</span><span class="keyword">(</span><span class="default">$date</span><span class="keyword">); </span><span class="comment">// 2 days ago<br><br></span><span class="default">?&gt;</span>
</span>
</div>
  

#

[Official documentation page](https://www.php.net/manual/en/function.time.php)

**[To root](/README.md)**