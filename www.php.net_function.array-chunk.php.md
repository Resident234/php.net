# array_chunk




<div class="phpcode"><span class="html">
Tried to use an example below (#56022) for array_chunk_fixed that would &quot;partition&quot; or divide an array into a desired number of split lists -- a useful procedure for &quot;chunking&quot; up objects or text items into columns, or partitioning any type of data resource. However, there seems to be a flaw with array_chunk_fixed &#x2014; for instance, try it with a nine item list and with four partitions. It results in 3 entries with 3 items, then a blank array.<br><br>So, here is the output of my own dabbling on the matter:<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">function </span><span class="default">partition</span><span class="keyword">( </span><span class="default">$list</span><span class="keyword">, </span><span class="default">$p </span><span class="keyword">) {<br>&#xA0; &#xA0; </span><span class="default">$listlen </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">( </span><span class="default">$list </span><span class="keyword">);<br>&#xA0; &#xA0; </span><span class="default">$partlen </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">( </span><span class="default">$listlen </span><span class="keyword">/ </span><span class="default">$p </span><span class="keyword">);<br>&#xA0; &#xA0; </span><span class="default">$partrem </span><span class="keyword">= </span><span class="default">$listlen </span><span class="keyword">% </span><span class="default">$p</span><span class="keyword">;<br>&#xA0; &#xA0; </span><span class="default">$partition </span><span class="keyword">= array();<br>&#xA0; &#xA0; </span><span class="default">$mark </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">;<br>&#xA0; &#xA0; for (</span><span class="default">$px </span><span class="keyword">= </span><span class="default">0</span><span class="keyword">; </span><span class="default">$px </span><span class="keyword">&lt; </span><span class="default">$p</span><span class="keyword">; </span><span class="default">$px</span><span class="keyword">++) {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$incr </span><span class="keyword">= (</span><span class="default">$px </span><span class="keyword">&lt; </span><span class="default">$partrem</span><span class="keyword">) ? </span><span class="default">$partlen </span><span class="keyword">+ </span><span class="default">1 </span><span class="keyword">: </span><span class="default">$partlen</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$partition</span><span class="keyword">[</span><span class="default">$px</span><span class="keyword">] = </span><span class="default">array_slice</span><span class="keyword">( </span><span class="default">$list</span><span class="keyword">, </span><span class="default">$mark</span><span class="keyword">, </span><span class="default">$incr </span><span class="keyword">);<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$mark </span><span class="keyword">+= </span><span class="default">$incr</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; return </span><span class="default">$partition</span><span class="keyword">;<br>}<br><br></span><span class="default">$citylist </span><span class="keyword">= array( </span><span class="string">&quot;Black Canyon City&quot;</span><span class="keyword">, </span><span class="string">&quot;Chandler&quot;</span><span class="keyword">, </span><span class="string">&quot;Flagstaff&quot;</span><span class="keyword">, </span><span class="string">&quot;Gilbert&quot;</span><span class="keyword">, </span><span class="string">&quot;Glendale&quot;</span><span class="keyword">, </span><span class="string">&quot;Globe&quot;</span><span class="keyword">, </span><span class="string">&quot;Mesa&quot;</span><span class="keyword">, </span><span class="string">&quot;Miami&quot;</span><span class="keyword">,<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0;&#xA0; </span><span class="string">&quot;Phoenix&quot;</span><span class="keyword">, </span><span class="string">&quot;Peoria&quot;</span><span class="keyword">, </span><span class="string">&quot;Prescott&quot;</span><span class="keyword">, </span><span class="string">&quot;Scottsdale&quot;</span><span class="keyword">, </span><span class="string">&quot;Sun City&quot;</span><span class="keyword">, </span><span class="string">&quot;Surprise&quot;</span><span class="keyword">, </span><span class="string">&quot;Tempe&quot;</span><span class="keyword">, </span><span class="string">&quot;Tucson&quot;</span><span class="keyword">, </span><span class="string">&quot;Wickenburg&quot; </span><span class="keyword">);<br></span><span class="default">print_r</span><span class="keyword">( </span><span class="default">partition</span><span class="keyword">( </span><span class="default">$citylist</span><span class="keyword">, </span><span class="default">3 </span><span class="keyword">) );<br><br></span><span class="default">?&gt;<br></span><br>Array<br>(<br>&#xA0; &#xA0; [0] =&gt; Array<br>&#xA0; &#xA0; &#xA0; &#xA0; (<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [0] =&gt; Black Canyon City<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [1] =&gt; Chandler<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [2] =&gt; Flagstaff<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [3] =&gt; Gilbert<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [4] =&gt; Glendale<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [5] =&gt; Globe<br>&#xA0; &#xA0; &#xA0; &#xA0; )<br><br>&#xA0; &#xA0; [1] =&gt; Array<br>&#xA0; &#xA0; &#xA0; &#xA0; (<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [0] =&gt; Mesa<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [1] =&gt; Miami<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [2] =&gt; Phoenix<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [3] =&gt; Peoria<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [4] =&gt; Prescott<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [5] =&gt; Scottsdale<br>&#xA0; &#xA0; &#xA0; &#xA0; )<br><br>&#xA0; &#xA0; [2] =&gt; Array<br>&#xA0; &#xA0; &#xA0; &#xA0; (<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [0] =&gt; Sun City<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [1] =&gt; Surprise<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [2] =&gt; Tempe<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [3] =&gt; Tucson<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [4] =&gt; Wickenburg<br>&#xA0; &#xA0; &#xA0; &#xA0; )<br><br>)</span>
</div>
  

#


<div class="phpcode"><span class="html">
Here my array_chunk_values( ) with values distributed by lines (columns are balanced as much as possible) :<br><br><span class="default">&lt;?php<br>&#xA0; &#xA0; </span><span class="keyword">function </span><span class="default">array_chunk_vertical</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">, </span><span class="default">$columns</span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$n </span><span class="keyword">= </span><span class="default">count</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">) ;<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$per_column </span><span class="keyword">= </span><span class="default">floor</span><span class="keyword">(</span><span class="default">$n </span><span class="keyword">/ </span><span class="default">$columns</span><span class="keyword">) ;<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$rest </span><span class="keyword">= </span><span class="default">$n </span><span class="keyword">% </span><span class="default">$columns </span><span class="keyword">;<br><br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="comment">// The map<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$per_columns </span><span class="keyword">= array( ) ;<br>&#xA0; &#xA0; &#xA0; &#xA0; for ( </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0 </span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$columns </span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++ ) {<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$per_columns</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">] = </span><span class="default">$per_column </span><span class="keyword">+ (</span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$rest </span><span class="keyword">? </span><span class="default">1 </span><span class="keyword">: </span><span class="default">0</span><span class="keyword">) ;<br>&#xA0; &#xA0; &#xA0; &#xA0; }<br><br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$tabular </span><span class="keyword">= array( ) ;<br>&#xA0; &#xA0; &#xA0; &#xA0; foreach ( </span><span class="default">$per_columns </span><span class="keyword">as </span><span class="default">$rows </span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; for ( </span><span class="default">$i </span><span class="keyword">= </span><span class="default">0 </span><span class="keyword">; </span><span class="default">$i </span><span class="keyword">&lt; </span><span class="default">$rows </span><span class="keyword">; </span><span class="default">$i</span><span class="keyword">++ ) {<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$tabular</span><span class="keyword">[</span><span class="default">$i</span><span class="keyword">][ ] = </span><span class="default">array_shift</span><span class="keyword">(</span><span class="default">$data</span><span class="keyword">) ;<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; }<br>&#xA0; &#xA0; &#xA0; &#xA0; }<br><br>&#xA0; &#xA0; &#xA0; &#xA0; return </span><span class="default">$tabular </span><span class="keyword">;<br>&#xA0; &#xA0; }<br><br>&#xA0; &#xA0; </span><span class="default">header</span><span class="keyword">(</span><span class="string">&apos;Content-Type: text/plain&apos;</span><span class="keyword">) ;<br><br>&#xA0; &#xA0; </span><span class="default">$data </span><span class="keyword">= </span><span class="default">array_chunk_vertical</span><span class="keyword">(</span><span class="default">range</span><span class="keyword">(</span><span class="default">1</span><span class="keyword">, </span><span class="default">31</span><span class="keyword">), </span><span class="default">7</span><span class="keyword">) ;<br>&#xA0; &#xA0; foreach ( </span><span class="default">$data </span><span class="keyword">as </span><span class="default">$row </span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; foreach ( </span><span class="default">$row </span><span class="keyword">as </span><span class="default">$value </span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">printf</span><span class="keyword">(</span><span class="string">&apos;[%2s]&apos;</span><span class="keyword">, </span><span class="default">$value</span><span class="keyword">) ;<br>&#xA0; &#xA0; &#xA0; &#xA0; }<br>&#xA0; &#xA0; &#xA0; &#xA0; echo </span><span class="string">&quot;\r\n&quot; </span><span class="keyword">;<br>&#xA0; &#xA0; }<br><br>&#xA0; &#xA0; </span><span class="comment">/*<br>&#xA0; &#xA0; &#xA0; &#xA0; Output :<br><br>&#xA0; &#xA0; &#xA0; &#xA0; [ 1][ 6][11][16][20][24][28]<br>&#xA0; &#xA0; &#xA0; &#xA0; [ 2][ 7][12][17][21][25][29]<br>&#xA0; &#xA0; &#xA0; &#xA0; [ 3][ 8][13][18][22][26][30]<br>&#xA0; &#xA0; &#xA0; &#xA0; [ 4][ 9][14][19][23][27][31]<br>&#xA0; &#xA0; &#xA0; &#xA0; [ 5][10][15]<br>&#xA0; &#xA0; */<br></span><span class="default">?&gt;</span>
</span>
</div>
  

#


<div class="phpcode"><span class="html">
If you just want to grab one chunk from an array, you should use array_slice().</span>
</div>
  

#


<div class="phpcode"><span class="html">
Response to azspot at gmail dot com function partition.<br><br>$columns = 3;<br>$citylist = array(&apos;Black Canyon City&apos;, &apos;Chandler&apos;, &apos;Flagstaff&apos;, &apos;Gilbert&apos;, &apos;Glendale&apos;, &apos;Globe&apos;, &apos;Mesa&apos;, &apos;Miami&apos;, &apos;Phoenix&apos;, &apos;Peoria&apos;, &apos;Prescott&apos;, &apos;Scottsdale&apos;, &apos;Sun City&apos;, &apos;Surprise&apos;, &apos;Tempe&apos;, &apos;Tucson&apos;, &apos;Wickenburg&apos;);<br>print_r(array_chunk($citylist, ceil(count($citylist) / $columns)));<br><br>Output:<br>Array<br>(<br>&#xA0; &#xA0; [0] =&gt; Array<br>&#xA0; &#xA0; &#xA0; &#xA0; (<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [0] =&gt; Black Canyon City<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [1] =&gt; Chandler<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [2] =&gt; Flagstaff<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [3] =&gt; Gilbert<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [4] =&gt; Glendale<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [5] =&gt; Globe<br>&#xA0; &#xA0; &#xA0; &#xA0; )<br><br>&#xA0; &#xA0; [1] =&gt; Array<br>&#xA0; &#xA0; &#xA0; &#xA0; (<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [0] =&gt; Mesa<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [1] =&gt; Miami<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [2] =&gt; Phoenix<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [3] =&gt; Peoria<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [4] =&gt; Prescott<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [5] =&gt; Scottsdale<br>&#xA0; &#xA0; &#xA0; &#xA0; )<br><br>&#xA0; &#xA0; [2] =&gt; Array<br>&#xA0; &#xA0; &#xA0; &#xA0; (<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [0] =&gt; Sun City<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [1] =&gt; Surprise<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [2] =&gt; Tempe<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [3] =&gt; Tucson<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; [4] =&gt; Wickenburg<br>&#xA0; &#xA0; &#xA0; &#xA0; )<br><br>)</span>
</div>
  

#

[Official documentation page](https://www.php.net/manual/en/function.array-chunk.php)

**[To root](/README.md)**