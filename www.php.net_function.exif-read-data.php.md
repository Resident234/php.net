# exif_read_data




<div class="phpcode"><span class="html">
When the new update came out from Apple for iOS6 it provided the ability for iPad, iPod, and iPhones to be able to upload files from the device through Safari. Obviously this will open up an array of implementations where at one point it was just not possible.<br><br>The issue comes when a photo is uploaded it will be dependent on the location of the &quot;button&quot; when the photo was taken. Imagine if you will that you have your iPhone turned with the button at the top and you take a photo. The photo when uploaded to your server might be &quot;upside down&quot;.<br><br>The following code will ensure that all uploaded photos will be oriented correctly upon upload:<br><span class="default">&lt;?php<br>$image </span><span class="keyword">= </span><span class="default">imagecreatefromstring</span><span class="keyword">(</span><span class="default">file_get_contents</span><span class="keyword">(</span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">&apos;image_upload&apos;</span><span class="keyword">][</span><span class="string">&apos;tmp_name&apos;</span><span class="keyword">]));<br></span><span class="default">$exif </span><span class="keyword">= </span><span class="default">exif_read_data</span><span class="keyword">(</span><span class="default">$_FILES</span><span class="keyword">[</span><span class="string">&apos;image_upload&apos;</span><span class="keyword">][</span><span class="string">&apos;tmp_name&apos;</span><span class="keyword">]);<br>if(!empty(</span><span class="default">$exif</span><span class="keyword">[</span><span class="string">&apos;Orientation&apos;</span><span class="keyword">])) {<br>&#xA0; &#xA0; switch(</span><span class="default">$exif</span><span class="keyword">[</span><span class="string">&apos;Orientation&apos;</span><span class="keyword">]) {<br>&#xA0; &#xA0; &#xA0; &#xA0; case </span><span class="default">8</span><span class="keyword">:<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$image </span><span class="keyword">= </span><span class="default">imagerotate</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,</span><span class="default">90</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; break;<br>&#xA0; &#xA0; &#xA0; &#xA0; case </span><span class="default">3</span><span class="keyword">:<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$image </span><span class="keyword">= </span><span class="default">imagerotate</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,</span><span class="default">180</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; break;<br>&#xA0; &#xA0; &#xA0; &#xA0; case </span><span class="default">6</span><span class="keyword">:<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$image </span><span class="keyword">= </span><span class="default">imagerotate</span><span class="keyword">(</span><span class="default">$image</span><span class="keyword">,-</span><span class="default">90</span><span class="keyword">,</span><span class="default">0</span><span class="keyword">);<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; break;<br>&#xA0; &#xA0; }<br>}<br></span><span class="comment">// $image now contains a resource with the image oriented correctly<br></span><span class="default">?&gt;<br></span><br>What you do with the image resource from there is entirely up to you.<br><br>I hope that this helps you identify and orient any image that&apos;s uploaded from an iPad, iPhone, or iPod. Orientation for the photo is the key to knowing how to rotate it correctly.</span>
</div>
  

#

[Official documentation page](https://www.php.net/manual/en/function.exif-read-data.php)

**[To root](/README.md)**