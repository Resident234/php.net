# Static Keyword




<div class="phpcode"><span class="html">
Note that you should read &quot;Variables/Variable scope&quot; if you are looking for static keyword use for declaring static variables inside functions (or methods). I myself had this gap in my PHP knowledge until recently and had to google to find this out. I think this page should have a &quot;See also&quot; link to static function variables.<br><a href="http://www.php.net/manual/en/language.variables.scope.php" rel="nofollow" target="_blank">http://www.php.net/manual/en/language.variables.scope.php</a></span>
</div>
  

#


<div class="phpcode"><span class="html">
Here statically accessed property prefer property of the class for which it is called. Where as self keyword enforces use of current class only. Refer the below example:<br><br><span class="default">&lt;?php<br></span><span class="keyword">class </span><span class="default">a</span><span class="keyword">{<br><br>static protected </span><span class="default">$test</span><span class="keyword">=</span><span class="string">&quot;class a&quot;</span><span class="keyword">;<br><br>public function </span><span class="default">static_test</span><span class="keyword">(){<br><br>echo static::</span><span class="default">$test</span><span class="keyword">; </span><span class="comment">// Results class b<br></span><span class="keyword">echo </span><span class="default">self</span><span class="keyword">::</span><span class="default">$test</span><span class="keyword">; </span><span class="comment">// Results class a<br><br></span><span class="keyword">}<br><br>}<br><br>class </span><span class="default">b </span><span class="keyword">extends </span><span class="default">a</span><span class="keyword">{<br><br>static protected </span><span class="default">$test</span><span class="keyword">=</span><span class="string">&quot;class b&quot;</span><span class="keyword">;<br><br>}<br><br></span><span class="default">$obj </span><span class="keyword">= new </span><span class="default">b</span><span class="keyword">();<br></span><span class="default">$obj</span><span class="keyword">-&gt;</span><span class="default">static_test</span><span class="keyword">();<br></span><span class="default">?&gt;</span>
</span>
</div>
  

#


<div class="phpcode"><span class="html">
It is worth mentioning that there is only one value for each static variable that is the same for all instances</span>
</div>
  

#


<div class="phpcode"><span class="html">
It is important to understand the behavior of static properties in the context of class inheritance:<br><br>- Static properties defined in both parent and child classes will hold DISTINCT values for each class. Proper use of self:: vs. static:: are crucial inside of child methods to reference the intended static property.<br><br>- Static properties defined ONLY in the parent class will share a COMMON value.<br><br><span class="default">&lt;?php<br></span><span class="keyword">declare(</span><span class="default">strict_types</span><span class="keyword">=</span><span class="default">1</span><span class="keyword">);<br><br>class </span><span class="default">staticparent </span><span class="keyword">{<br>&#xA0; &#xA0; static&#xA0; &#xA0; </span><span class="default">$parent_only</span><span class="keyword">;<br>&#xA0; &#xA0; static&#xA0; &#xA0; </span><span class="default">$both_distinct</span><span class="keyword">;<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; function </span><span class="default">__construct</span><span class="keyword">() {<br>&#xA0; &#xA0; &#xA0; &#xA0; static::</span><span class="default">$parent_only </span><span class="keyword">= </span><span class="string">&apos;fromparent&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; static::</span><span class="default">$both_distinct </span><span class="keyword">= </span><span class="string">&apos;fromparent&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>}<br><br>class </span><span class="default">staticchild </span><span class="keyword">extends </span><span class="default">staticparent </span><span class="keyword">{<br>&#xA0; &#xA0; static&#xA0; &#xA0; </span><span class="default">$child_only</span><span class="keyword">;<br>&#xA0; &#xA0; static&#xA0; &#xA0; </span><span class="default">$both_distinct</span><span class="keyword">;<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; function </span><span class="default">__construct</span><span class="keyword">() {<br>&#xA0; &#xA0; &#xA0; &#xA0; static::</span><span class="default">$parent_only </span><span class="keyword">= </span><span class="string">&apos;fromchild&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; static::</span><span class="default">$both_distinct </span><span class="keyword">= </span><span class="string">&apos;fromchild&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; static::</span><span class="default">$child_only </span><span class="keyword">= </span><span class="string">&apos;fromchild&apos;</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>}<br><br></span><span class="default">$a </span><span class="keyword">= new </span><span class="default">staticparent</span><span class="keyword">;<br></span><span class="default">$a </span><span class="keyword">= new </span><span class="default">staticchild</span><span class="keyword">;<br><br>echo </span><span class="string">&apos;Parent: parent_only=&apos;</span><span class="keyword">, </span><span class="default">staticparent</span><span class="keyword">::</span><span class="default">$parent_only</span><span class="keyword">, </span><span class="string">&apos;, both_distinct=&apos;</span><span class="keyword">, </span><span class="default">staticparent</span><span class="keyword">::</span><span class="default">$both_distinct</span><span class="keyword">, </span><span class="string">&quot;&lt;br/&gt;\r\n&quot;</span><span class="keyword">;<br>echo </span><span class="string">&apos;Child:&#xA0; parent_only=&apos;</span><span class="keyword">, </span><span class="default">staticchild</span><span class="keyword">::</span><span class="default">$parent_only</span><span class="keyword">, </span><span class="string">&apos;, both_distinct=&apos;</span><span class="keyword">, </span><span class="default">staticchild</span><span class="keyword">::</span><span class="default">$both_distinct</span><span class="keyword">, </span><span class="string">&apos;, child_only=&apos;</span><span class="keyword">, </span><span class="default">staticchild</span><span class="keyword">::</span><span class="default">$child_only</span><span class="keyword">, </span><span class="string">&quot;&lt;br/&gt;\r\n&quot;</span><span class="keyword">;<br></span><span class="default">?&gt;<br></span><br>will output:<br>Parent: parent_only=fromchild, both_distinct=fromparent<br>Child: parent_only=fromchild, both_distinct=fromchild, child_only=fromchild</span>
</div>
  

#


<div class="phpcode"><span class="html">
Static variables are shared between sub classes<br><br><span class="default">&lt;?php<br></span><span class="keyword">class </span><span class="default">MyParent </span><span class="keyword">{<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; protected static </span><span class="default">$variable</span><span class="keyword">;<br>}<br><br>class </span><span class="default">Child1 </span><span class="keyword">extends </span><span class="default">MyParent </span><span class="keyword">{<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; function </span><span class="default">set</span><span class="keyword">() {<br>&#xA0; &#xA0; &#xA0; &#xA0; <br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">self</span><span class="keyword">::</span><span class="default">$variable </span><span class="keyword">= </span><span class="default">2</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>}<br><br>class </span><span class="default">Child2 </span><span class="keyword">extends </span><span class="default">MyParent </span><span class="keyword">{<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; function </span><span class="default">show</span><span class="keyword">() {<br>&#xA0; &#xA0; &#xA0; &#xA0; <br>&#xA0; &#xA0; &#xA0; &#xA0; echo(</span><span class="default">self</span><span class="keyword">::</span><span class="default">$variable</span><span class="keyword">);<br>&#xA0; &#xA0; }<br>}<br><br></span><span class="default">$c1 </span><span class="keyword">= new </span><span class="default">Child1</span><span class="keyword">();<br></span><span class="default">$c1</span><span class="keyword">-&gt;</span><span class="default">set</span><span class="keyword">();<br></span><span class="default">$c2 </span><span class="keyword">= new </span><span class="default">Child2</span><span class="keyword">();<br></span><span class="default">$c2</span><span class="keyword">-&gt;</span><span class="default">show</span><span class="keyword">(); </span><span class="comment">// prints 2<br></span><span class="default">?&gt;</span>
</span>
</div>
  

#


<div class="phpcode"><span class="html">
To check if a function was called statically or not, you&apos;ll need to do:<br><br><span class="default">&lt;?php<br></span><span class="keyword">function </span><span class="default">foo </span><span class="keyword">() {<br>&#xA0; &#xA0; </span><span class="default">$isStatic </span><span class="keyword">= !(isset(</span><span class="default">$this</span><span class="keyword">) &amp;&amp; </span><span class="default">get_class</span><span class="keyword">(</span><span class="default">$this</span><span class="keyword">) == </span><span class="default">__CLASS__</span><span class="keyword">);<br>}<br></span><span class="default">?&gt;<br></span><br>More at (<a href="http://blog.phpdoc.info/archives/4-Schizophrenic-Methods.html" rel="nofollow" target="_blank">http://blog.phpdoc.info/archives/4-Schizophrenic-Methods.html</a>). <br><br>(I&apos;ll add this to the manual soon).</span>
</div>
  

#


<div class="phpcode"><span class="html">
On PHP 5.2.x or previous you might run into problems initializing static variables in subclasses due to the lack of late static binding:<br><br><span class="default">&lt;?php<br></span><span class="keyword">class </span><span class="default">A </span><span class="keyword">{<br>&#xA0; &#xA0; protected static </span><span class="default">$a</span><span class="keyword">;<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; public static function </span><span class="default">init</span><span class="keyword">(</span><span class="default">$value</span><span class="keyword">) { </span><span class="default">self</span><span class="keyword">::</span><span class="default">$a </span><span class="keyword">= </span><span class="default">$value</span><span class="keyword">; }<br>&#xA0; &#xA0; public static function </span><span class="default">getA</span><span class="keyword">() { return </span><span class="default">self</span><span class="keyword">::</span><span class="default">$a</span><span class="keyword">; }<br>}<br><br>class </span><span class="default">B </span><span class="keyword">extends </span><span class="default">A </span><span class="keyword">{<br>&#xA0; &#xA0; protected static </span><span class="default">$a</span><span class="keyword">; </span><span class="comment">// redefine $a for own use<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; // inherit the init() method<br>&#xA0; &#xA0; </span><span class="keyword">public static function </span><span class="default">getA</span><span class="keyword">() { return </span><span class="default">self</span><span class="keyword">::</span><span class="default">$a</span><span class="keyword">; }<br>}<br><br></span><span class="default">B</span><span class="keyword">::</span><span class="default">init</span><span class="keyword">(</span><span class="string">&apos;lala&apos;</span><span class="keyword">);<br>echo </span><span class="string">&apos;A::$a = &apos;</span><span class="keyword">.</span><span class="default">A</span><span class="keyword">::</span><span class="default">getA</span><span class="keyword">().</span><span class="string">&apos;; B::$a = &apos;</span><span class="keyword">.</span><span class="default">B</span><span class="keyword">::</span><span class="default">getA</span><span class="keyword">();<br></span><span class="default">?&gt;<br></span><br>This will output:<br>A::$a = lala; B::$a = <br><br>If the init() method looks the same for (almost) all subclasses there should be no need to implement init() in every subclass and by that producing redundant code.<br><br>Solution 1:<br>Turn everything into non-static. BUT: This would produce redundant data on every object of the class.<br><br>Solution 2:<br>Turn static $a on class A into an array, use classnames of subclasses as indeces. By doing so you also don&apos;t have to redefine $a for the subclasses and the superclass&apos; $a can be private.<br><br>Short example on a DataRecord class without error checking:<br><br><span class="default">&lt;?php<br></span><span class="keyword">abstract class </span><span class="default">DataRecord </span><span class="keyword">{<br>&#xA0; &#xA0; private static </span><span class="default">$db</span><span class="keyword">; </span><span class="comment">// MySQLi-Connection, same for all subclasses<br>&#xA0; &#xA0; </span><span class="keyword">private static </span><span class="default">$table </span><span class="keyword">= array(); </span><span class="comment">// Array of tables for subclasses<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; </span><span class="keyword">public static function </span><span class="default">init</span><span class="keyword">(</span><span class="default">$classname</span><span class="keyword">, </span><span class="default">$table</span><span class="keyword">, </span><span class="default">$db </span><span class="keyword">= </span><span class="default">false</span><span class="keyword">) {<br>&#xA0; &#xA0; &#xA0; &#xA0; if (!(</span><span class="default">$db </span><span class="keyword">=== </span><span class="default">false</span><span class="keyword">)) </span><span class="default">self</span><span class="keyword">::</span><span class="default">$db </span><span class="keyword">= </span><span class="default">$db</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">self</span><span class="keyword">::</span><span class="default">$table</span><span class="keyword">[</span><span class="default">$classname</span><span class="keyword">] = </span><span class="default">$table</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; public static function </span><span class="default">getDB</span><span class="keyword">() { return </span><span class="default">self</span><span class="keyword">::</span><span class="default">$db</span><span class="keyword">; }<br>&#xA0; &#xA0; public static function </span><span class="default">getTable</span><span class="keyword">(</span><span class="default">$classname</span><span class="keyword">) { return </span><span class="default">self</span><span class="keyword">::</span><span class="default">$table</span><span class="keyword">[</span><span class="default">$classname</span><span class="keyword">]; }<br>}<br><br>class </span><span class="default">UserDataRecord </span><span class="keyword">extends </span><span class="default">DataRecord </span><span class="keyword">{<br>&#xA0; &#xA0; public static function </span><span class="default">fetchFromDB</span><span class="keyword">() {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$result </span><span class="keyword">= </span><span class="default">parent</span><span class="keyword">::</span><span class="default">getDB</span><span class="keyword">()-&gt;</span><span class="default">query</span><span class="keyword">(</span><span class="string">&apos;select * from &apos;</span><span class="keyword">.</span><span class="default">parent</span><span class="keyword">::</span><span class="default">getTable</span><span class="keyword">(</span><span class="string">&apos;UserDataRecord&apos;</span><span class="keyword">).</span><span class="string">&apos;;&apos;</span><span class="keyword">);<br>&#xA0; &#xA0; &#xA0; &#xA0; <br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="comment">// and so on ...<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="keyword">return </span><span class="default">$result</span><span class="keyword">; </span><span class="comment">// An array of UserDataRecord objects<br>&#xA0; &#xA0; </span><span class="keyword">}<br>}<br><br></span><span class="default">$db </span><span class="keyword">= new </span><span class="default">MySQLi</span><span class="keyword">(...);<br></span><span class="default">UserDataRecord</span><span class="keyword">::</span><span class="default">init</span><span class="keyword">(</span><span class="string">&apos;UserDataRecord&apos;</span><span class="keyword">, </span><span class="string">&apos;users&apos;</span><span class="keyword">, </span><span class="default">$db</span><span class="keyword">);<br></span><span class="default">$users </span><span class="keyword">= </span><span class="default">UserDataRecord</span><span class="keyword">::</span><span class="default">fetchFromDB</span><span class="keyword">();<br></span><span class="default">?&gt;<br></span><br>I hope this helps some people who need to operate on PHP 5.2.x servers for some reason. Late static binding, of course, makes this workaround obsolete.</span>
</div>
  

#

[Official documentation page](https://www.php.net/manual/en/language.oop5.static.php)

**[To root](/README.md)**