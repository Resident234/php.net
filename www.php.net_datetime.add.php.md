# DateTime::adddate_add




<div class="phpcode"><span class="html">
Note that the add() and sub() methods will modify the value of the object you&apos;re calling the method on! This is very untypical for a method that returns a value of its own type. You could misunderstand it that the method would return a new instance with the modified value, but in fact it modifies itself! This is undocumented here. (Only a side note on procedural style mentions it, but it obviously does not apply to object oriented style.)</span>
</div>
  

#


<div class="phpcode"><span class="html">
Another simple solution to adding a month but not autocorrecting days to the next month is this.<br>(Also works for substracting months)<br><br>$dt = new DateTime(&quot;2016-01-31&quot;);<br><br>$oldDay = $dt-&gt;format(&quot;d&quot;);<br>$dt-&gt;add(new DateInterval(&quot;P1M&quot;)); // 2016-03-02<br>$newDay = $dt-&gt;format(&quot;d&quot;);<br><br>if($oldDay != $newDay) {<br>&#xA0; &#xA0; // Check if the day is changed, if so we skipped to the next month.<br>&#xA0; &#xA0; // Substract days to go back to the last day of previous month.<br>&#xA0; &#xA0; $dt-&gt;sub(new DateInterval(&quot;P&quot; . $newDay . &quot;D&quot;));<br>}<br><br>echo $dt-&gt;format(&quot;Y-m-d&quot;); // 2016-02-29<br><br>Hope this helps someone.</span>
</div>
  

#


<div class="phpcode"><span class="html">
If you&apos;re using PHP &gt;= 5.5, instead of using &quot;glavic at gmail dot com&quot;&apos;s DateTimeEnhanced class, use the built in DateTimeImmutable type. When you call DateTimeImmutable::add() it will return a new object, rather than modifying the original</span>
</div>
  

#


<div class="phpcode"><span class="html">
Here is a solution to adding months when you want 2014-10-31 to become 2014-11-30 instead of 2014-12-01.<br><br><span class="default">&lt;?php<br><br></span><span class="comment">/**<br> * Class MyDateTime<br> *<br> * Extends DateTime to include a sensible addMonth method.<br> *<br> * This class provides a method that will increment the month, and<br> * if the day is greater than the last day in the new month, it<br> * changes the day to the last day of that month. For example,<br> * If you add one month to 2014-10-31 using DateTime::add, the<br> * result is 2014-12-01. Using MyDateTime::addMonth the result is<br> * 2014-11-30.<br> */<br></span><span class="keyword">class </span><span class="default">MyDateTime </span><span class="keyword">extends </span><span class="default">DateTime<br></span><span class="keyword">{<br><br>&#xA0; &#xA0; public function </span><span class="default">addMonth</span><span class="keyword">(</span><span class="default">$num </span><span class="keyword">= </span><span class="default">1</span><span class="keyword">)<br>&#xA0; &#xA0; {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$date </span><span class="keyword">= </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="string">&apos;Y-n-j&apos;</span><span class="keyword">);<br>&#xA0; &#xA0; &#xA0; &#xA0; list(</span><span class="default">$y</span><span class="keyword">, </span><span class="default">$m</span><span class="keyword">, </span><span class="default">$d</span><span class="keyword">) = </span><span class="default">explode</span><span class="keyword">(</span><span class="string">&apos;-&apos;</span><span class="keyword">, </span><span class="default">$date</span><span class="keyword">);<br><br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$m </span><span class="keyword">+= </span><span class="default">$num</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; while (</span><span class="default">$m </span><span class="keyword">&gt; </span><span class="default">12</span><span class="keyword">)<br>&#xA0; &#xA0; &#xA0; &#xA0; {<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$m </span><span class="keyword">-= </span><span class="default">12</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$y</span><span class="keyword">++;<br>&#xA0; &#xA0; &#xA0; &#xA0; }<br><br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$last_day </span><span class="keyword">= </span><span class="default">date</span><span class="keyword">(</span><span class="string">&apos;t&apos;</span><span class="keyword">, </span><span class="default">strtotime</span><span class="keyword">(</span><span class="string">&quot;</span><span class="default">$y</span><span class="string">-</span><span class="default">$m</span><span class="string">-1&quot;</span><span class="keyword">));<br>&#xA0; &#xA0; &#xA0; &#xA0; if (</span><span class="default">$d </span><span class="keyword">&gt; </span><span class="default">$last_day</span><span class="keyword">)<br>&#xA0; &#xA0; &#xA0; &#xA0; {<br>&#xA0; &#xA0; &#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$d </span><span class="keyword">= </span><span class="default">$last_day</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; }<br><br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$this</span><span class="keyword">-&gt;</span><span class="default">setDate</span><span class="keyword">(</span><span class="default">$y</span><span class="keyword">, </span><span class="default">$m</span><span class="keyword">, </span><span class="default">$d</span><span class="keyword">);<br>&#xA0; &#xA0; }<br><br>}<br><br></span><span class="default">?&gt;</span>
</span>
</div>
  

#


<div class="phpcode"><span class="html">
If you need add() and sub() that don&apos;t modify object values, you can create new methods like this:<br><br><span class="default">&lt;?php<br><br></span><span class="keyword">class </span><span class="default">DateTimeEnhanced </span><span class="keyword">extends </span><span class="default">DateTime </span><span class="keyword">{<br><br>&#xA0; &#xA0; public function </span><span class="default">returnAdd</span><span class="keyword">(</span><span class="default">DateInterval $interval</span><span class="keyword">)<br>&#xA0; &#xA0; {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$dt </span><span class="keyword">= clone </span><span class="default">$this</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$dt</span><span class="keyword">-&gt;</span><span class="default">add</span><span class="keyword">(</span><span class="default">$interval</span><span class="keyword">);<br>&#xA0; &#xA0; &#xA0; &#xA0; return </span><span class="default">$dt</span><span class="keyword">;<br>&#xA0; &#xA0; }<br>&#xA0; &#xA0; <br>&#xA0; &#xA0; public function </span><span class="default">returnSub</span><span class="keyword">(</span><span class="default">DateInterval $interval</span><span class="keyword">)<br>&#xA0; &#xA0; {<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$dt </span><span class="keyword">= clone </span><span class="default">$this</span><span class="keyword">;<br>&#xA0; &#xA0; &#xA0; &#xA0; </span><span class="default">$dt</span><span class="keyword">-&gt;</span><span class="default">sub</span><span class="keyword">(</span><span class="default">$interval</span><span class="keyword">);<br>&#xA0; &#xA0; &#xA0; &#xA0; return </span><span class="default">$dt</span><span class="keyword">;<br>&#xA0; &#xA0; }<br><br>}<br><br></span><span class="default">$interval </span><span class="keyword">= </span><span class="default">DateInterval</span><span class="keyword">::</span><span class="default">createfromdatestring</span><span class="keyword">(</span><span class="string">&apos;+1 day&apos;</span><span class="keyword">);<br><br></span><span class="default">$dt </span><span class="keyword">= new </span><span class="default">DateTimeEnhanced</span><span class="keyword">; </span><span class="comment"># initialize new object<br></span><span class="keyword">echo </span><span class="default">$dt</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="default">DateTime</span><span class="keyword">::</span><span class="default">W3C</span><span class="keyword">) . </span><span class="string">&quot;\n&quot;</span><span class="keyword">; </span><span class="comment"># 2013-09-12T15:01:44+02:00<br><br></span><span class="default">$dt</span><span class="keyword">-&gt;</span><span class="default">add</span><span class="keyword">(</span><span class="default">$interval</span><span class="keyword">); </span><span class="comment"># this modifies the object values<br></span><span class="keyword">echo </span><span class="default">$dt</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="default">DateTime</span><span class="keyword">::</span><span class="default">W3C</span><span class="keyword">) . </span><span class="string">&quot;\n&quot;</span><span class="keyword">; </span><span class="comment"># 2013-09-13T15:01:44+02:00<br><br></span><span class="default">$dtNew </span><span class="keyword">= </span><span class="default">$dt</span><span class="keyword">-&gt;</span><span class="default">returnAdd</span><span class="keyword">(</span><span class="default">$interval</span><span class="keyword">); </span><span class="comment"># this returns the new modified object and doesn&apos;t change original object<br></span><span class="keyword">echo </span><span class="default">$dt</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="default">DateTime</span><span class="keyword">::</span><span class="default">W3C</span><span class="keyword">) . </span><span class="string">&quot;\n&quot;</span><span class="keyword">; </span><span class="comment"># 2013-09-13T15:01:44+02:00<br></span><span class="keyword">echo </span><span class="default">$dtNew</span><span class="keyword">-&gt;</span><span class="default">format</span><span class="keyword">(</span><span class="default">DateTime</span><span class="keyword">::</span><span class="default">W3C</span><span class="keyword">) . </span><span class="string">&quot;\n&quot;</span><span class="keyword">; </span><span class="comment"># 2013-09-14T15:01:44+02:00</span>
</span>
</div>
  

#

[Official documentation page](https://www.php.net/manual/en/datetime.add.php)

**[To root](/README.md)**